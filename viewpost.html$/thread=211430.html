
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>More Questions About Python 3000 Answered</title>
<meta charset="utf-8"/>
<meta content="Guido van van Rossum" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#AACCFF" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=guido.html">Guido van van Rossum's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=211430.html">Discuss</a> | 
<a href="mailto:?subject=More Questions About Python 3000 Answered&amp;body= %0AArtima Weblogs %0AMore Questions About Python 3000 Answered %0Aby Guido van van Rossum %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=211430">Email</a> | 
<a href="../viewpostP.html$/thread=211430.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=211200.html" title="Python 3000 FAQ">Previous</a> | 
<a class="sl" href="thread=211842.html" title="Python 3000 Plea for Help">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">All Things Pythonic</span><br>
<span class="ts">More Questions About Python 3000 Answered</span><br/>
<span class="as">by Guido van van Rossum</span><br/>
<span class="pd">July 31, 2007</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
Last week I started a Python 3000 FAQ, and solicited additional questions.  Here are some additional answers.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<p>This is a sequal to <a class="reference" href="../_/http/www.artima.com/forums/threaded.html$/forum=106&amp;thread=211200.html">last week's post</a>.
It's tempting to replace most Q/A pairs below with</p>
<blockquote>
<p><strong>Q.</strong> Will Python 3000 have feature X (which has not been
proposed yet)?</p>
<p><strong>A.</strong> No.  The deadline for feature proposals (PEPs) was April 30,
2007.</p>
</blockquote>
<p>but I figured it would be better to try to explain why various ideas
(most of which aren't new) weren't proposed, or why they were rejected.</p>
<hr class="docutils">
<p><strong>Q.</strong> Will implicit string concatenation be removed in Python 3000?
(I.e., instead of <tt class="docutils literal"><span class="pre">("a"</span> <span class="pre">"b")</span></tt> you'd have to write <tt class="docutils literal"><span class="pre">("a"</span> <span class="pre">+</span> <span class="pre">"b")</span></tt>.)</p>
<p><strong>A.</strong> No.  This was proposed in <a class="reference" href="../_/http/www.python.org/dev/peps/pep-3126/index.html">PEP 3126</a>, but rejected.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Will the binary API for strings be standardized in Python 3000?
(Depending on a compile-time switch, Unicode strings use either a
2-byte wide or 4-byte wide representation.)</p>
<p><strong>A.</strong> No, there are still compelling reasons to support 2 bytes in
some cases and 4 bytes in others.  Usually this is dealt with by
compiling from source with the headers corresponding to the installed
Python binary.  If that doesn't work for you, and you really care
about this, I recommend that you bring it up on the <a class="reference" href="mailto:python-3000@python.org">python-3000</a>
mailing list, explaining your use case.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Why isn't the GIL (Global Interpreter Lock) recursive?</p>
<p><strong>A.</strong> Several reasons.  Recursive locks are more expensive, and the
GIL is acquired and released <em>a lot</em>.  Python's thread package doesn't
implement recursive locks in C (they are an add-on written in Python,
see RLock in threading.py).  Given the different thread APIs on
different platforms it's important that the C code involved in threads
is minimal.  But perhaps the most important reason is that the GIL
often gets <em>released</em> around I/O operations.  Releasing only a single
level of a recursive lock would not be correct here; one would have to
release the underlying non-recursive lock and restore the recursion
level after re-acquiring.  This is all rather involved.  A
non-recursive lock is much easier to deal with.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Will we be able to use statements in <tt class="docutils literal"><span class="pre">lambda</span></tt> in Python 3000?</p>
<p><strong>A.</strong> No.  The syntax (turning indentation back on inside an
expression) would both awkward to implement and hard to read for
humans.  My recommendation is just to define a <em>local</em> (i.e., nested)
function -- this has the same semantics as <tt class="docutils literal"><span class="pre">lambda</span></tt> without the
syntactic restrictions.  After all, this:</p>
<pre class="literal-block">
foo = lambda: whatever
</pre>
<p>is <em>completely</em> equivalent to this:</p>
<pre class="literal-block">
def foo(): return whatever
</pre>
<p>(except that the lambda doesn't remember its name).</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Will Python 3000 require tail call optimization?</p>
<p><strong>A.</strong> No.  The argument that this would be a "transparent"
optimization is incorrect -- it leads to a coding style that
essentially depends on tail call optimization, at which point the
transparency is lost.  (Otherwise, why bother asking to <em>require</em> it?
:-) Also, tracebacks would become harder to read.  Face reality --
Python is <em>not</em> a functional language.  It works largely by side
effects on mutable objects, and there is no opportunity for program
transformation based on equivalent semantics.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Will Python 3000 provide "real" private, protected and public?</p>
<p><strong>A.</strong> No.  Python will remain an "open kimono" language.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Will Python 3000 support static typing?</p>
<p><strong>A.</strong> Not as such.  The language would turn into Java-without-braces.
However, you can use "argument annotations" (<a class="reference" href="../_/http/www.python.org/dev/peps/pep-3107/index.html">PEP 3107</a>) and write
a decorator or metaclass to enforce argument types at run-time.  I
suppose it would also be possible to write an extension to
<a class="reference" href="../_/http/pychecker.sourceforge.net/index.html">pychecker</a> or <a class="reference" href="../_/http/www.logilab.org/857/index.html">pylint</a> that used annotations to check call
signatures.</p>
<hr class="docutils"/>
<p><strong>Q.</strong> Why doesn't <tt class="docutils literal"><span class="pre">str(c</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">X)</span></tt> return the string of
concatenated <tt class="docutils literal"><span class="pre">c</span></tt> values?</p>
<p><strong>A.</strong> Then, to be consistent, <tt class="docutils literal"><span class="pre">str(['a',</span> <span class="pre">'b',</span> <span class="pre">'c'])</span></tt> would have to
return <tt class="docutils literal"><span class="pre">'abc'</span></tt>.  I don't think you want that.  Also, what would
<tt class="docutils literal"><span class="pre">str([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></tt> do?  It's a grave problem if <tt class="docutils literal"><span class="pre">str()</span></tt> ever raises
an exception because that means the argument cannot be printed:
<tt class="docutils literal"><span class="pre">print</span></tt> calls <tt class="docutils literal"><span class="pre">str()</span></tt> on each of its arguments.</p>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=211430.html">22

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=211430&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Guido van van Rossum adds a new entry to <a href="../index.html$/blogger=guido.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/guido.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D211430&amp;title=More+Questions+About+Python+3000+Answered&amp;bodytext=Last+week+I+started+a+Python+3000+FAQ%2C+and+solicited+additional+questions.++Here+are+some+additional+answers.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D211430&amp;title=More+Questions+About+Python+3000+Answered">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D211430&amp;title=More+Questions+About+Python+3000+Answered">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/guido.jpg"/></td><td>Guido van Rossum is the creator of Python, one of the major
programming languages on and off the web. The Python community refers to him as the BDFL (Benevolent Dictator For Life), a title straight
from a Monty Python skit. He moved from the Netherlands to the USA in
1995, where he met his wife. Until July 2003 they lived in the
northern Virginia suburbs of Washington, DC with their son Orlijn, who
was born in 2001. They then moved to Silicon Valley where Guido now works for Google
(spending 50% of his time on Python!).</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2007 Guido van van Rossum. All rights reserved.</div>
</p></p></p></p></hr></p></div>

<hr width="100%"/>
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
<a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
