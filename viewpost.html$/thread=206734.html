
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>Lexical Scope of Java Inner Classes and Closures</title>
<meta charset="utf-8"/>
<meta content="Howard Lovatt" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=hlovatt.html">Howard Lovatt's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=206734.html">Discuss</a> | 
<a href="mailto:?subject=Lexical Scope of Java Inner Classes and Closures&amp;body= %0AArtima Weblogs %0ALexical Scope of Java Inner Classes and Closures %0Aby Howard Lovatt %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=206734">Email</a> | 
<a href="../viewpostP.html$/thread=206734.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=206350.html" title="Super Type Tokens">Previous</a> | 
<a class="sl" href="thread=220783.html" title="Extension Methods and Chained Invocations">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">Pattern Centric Blog</span><br>
<span class="ts">Lexical Scope of Java Inner Classes and Closures</span><br/>
<span class="as">by Howard Lovatt</span><br/>
<span class="pd">May 27, 2007</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
One of the key differences between the different Java inner class and
closure proposals is the lexical scope of names, this blog compares
the scoping of the major proposals (CICE + ARM, C3S, FCM + JCA, and
BGGA in both its forms)

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<html>
<head>
<title>Lexical Scope of Inner Classes and Closures</title>
</head>
<body dir="LTR" lang="en-AU">
<p>One of the key differences between the different Java inner class and
closure proposals is the lexical scope of names, this blog compares
the scoping of the major proposals (CICE + ARM, C3S, FCM + JCA, and
BGGA in both its forms). The order in the comparison table below, from
left to right, is how large a change is made to Java. There are two
main change groups: CICE and C3S do not change the semantics of inner
class methods, whereas FCM and BGGA do. All the proposals add
syntactic changes to make the declaration of inner classes shorter.
The comparison is similar to that given by Stephen Colebourne in his
blog, but includes the inherited scope as well as the enclosing
scope. (Stephen Colebourne was going to post the table below, or at
least a similar one, on his blog but was travelling at the time.)</p>
<p>A more detailed comparison was given in a 
<a href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=202004.html">
previous post</a>, but the table below is a good summary of an
important difference (lexical scope).</p>
<table border="1" cellpadding="4" cellspacing="3">
<tr>
<td>
<p><b>Property</b></p>
</td>
<td>
<p><b>Inner class</b></p>
</td>
<td>
<p><a href="../_/http/docs.google.com/View$/docid=k73_1ggr36h/index.html"><b>CICE</b></a></p>
</td>
<td>
<p><a href="../_/http/docs.google.com/View$/docid=dffxznxr_1nmsqkz/index.html"><b>ARM
			Extension to CICE</b></a></p>
</td>
<td>
<p><a href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=182412.html"><b>C3S</b></a></p>
</td>
<td>
<p><a href="../_/http/docs.google.com/Doc$/id=ddhp95vd_6hg3qhc/index.html"><b>FCM</b></a></p>
</td>
<td>
<p><a href="../_/http/docs.google.com/Doc$/id=ddhp95vd_8f8zkn3/index.html"><b>JCA
			Extensions to FCM</b></a></p>
</td>
<td>
<p><a href="../_/http/www.javac.info/closures-v05.html"><b>Restricted
			Version of BGGA Closure Conversions</b></a></p>
</td>
<td>
<p><a href="../_/http/www.javac.info/closures-v05.html"><b>BGGA</b></a></p>
</td>
</tr>
<tr>
<td>
<p><i>Access to names from enclosing scope</i></p>
</td>
<td>
<p>Y 
			</p>
<p>(Local variables must be final)</p>
</td>
<td>
<p>Y 
			</p>
<p>(Local variables must be public to give write access)</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y 
			</p>
<p>(Local variables must be final)</p>
</td>
<td>
<p>Y</p>
</td>
</tr>
<tr>
<td>
<p><i>Access to names from inherited classes/interfaces</i></p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N 
			</p>
<p>(No inheritance)</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
</tr>
<tr>
<td>
<p><i>Inherited names hide enclosing names</i></p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N 
			</p>
<p>(No inheritance)</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
</tr>
<tr>
<td>
<p><i>Break and continue into the enclosing scope from within the
			inner class/closure method</i></p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>Y 
			</p>
<p>(No inheritance)</p>
</td>
<td>
<p>Y 
			</p>
<p>(Must be a labelled break or continue to break or continue into
			the enclosing method)</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>Y</p>
</td>
</tr>
<tr>
<td>
<p><i>Return from the enclosing method (as opposed to returning
			from the inner class/closure method)</i></p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>Y 
			</p>
<p>(No inheritance)</p>
</td>
<td>
<p>Y 
			</p>
<p>(Must be qualified with method name to return from the
			enclosing method)</p>
</td>
<td>
<p>N</p>
</td>
<td>
<p>Y</p>
</td>
<td>
<p>N 
			</p>
<p>(Can only return via going of the end of the code block – <i>no</i>
			return statement allowed)</p>
</td>
<td>
<p>Y 
			</p>
<p>(Return statement returns from the enclosing method and going
			of the end of a code block returns from the inner class/closure
			method)</p>
</td>
</tr>
</table>
<a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=206734.html">23

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=206734&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Howard Lovatt adds a new entry to <a href="../index.html$/blogger=hlovatt.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/hlovatt.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D206734&amp;title=Lexical+Scope+of+Java+Inner+Classes+and+Closures&amp;bodytext=One+of+the+key+differences+between+the+different+Java+inner+class+and%0D%0Aclosure+proposals+is+the+lexical+scope+of+names%2C+this+blog+compares%0D%0Athe+scoping+of+the+major+proposals+%28CICE+%2B+ARM%2C+C3S%2C+FCM+%2B+JCA%2C+and%0D%0ABGGA+in+both+its+forms%29&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D206734&amp;title=Lexical+Scope+of+Java+Inner+Classes+and+Closures">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D206734&amp;title=Lexical+Scope+of+Java+Inner+Classes+and+Closures">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/howardlovatt.jpg"/></td><td>Dr. Howard Lovatt is a senior scientist with CSIRO, an Australian government owned research organization, and is the creator of the <a href="../_/https/pec.dev.java.net/nonav/frontpage.html">Pattern Enforcing Compiler</a> (PEC) for Java. PEC is an extended Java compiler that allows Software Design Patterns to be declared and hence checked by the compiler. PEC forms the basis of Howard's 2nd PhD, his first concerned the design of Switched Reluctance Motors.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2007 Howard Lovatt. All rights reserved.</div>
</p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr></body>
</html>
