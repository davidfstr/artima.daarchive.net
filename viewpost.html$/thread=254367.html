
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>Mixins considered harmful/3</title>
<meta charset="utf-8"/>
<meta content="Michele Simionato" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=micheles.html">Michele Simionato's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=254367.html">Discuss</a> | 
<a href="mailto:?subject=Mixins considered harmful/3&amp;body= %0AArtima Weblogs %0AMixins considered harmful/3 %0Aby Michele Simionato %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=254367">Email</a> | 
<a href="../viewpostP.html$/thread=254367.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a a="" adventures="" class="sl" href="thread=253071.html" in="" of="" pythonista="" schemeland""="" title="The Fourth Cycle of the ">Previous</a> | 
<a class="sl" href="thread=254507.html" title="Mixins considered harmful/4">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">The Explorer</span><br>
<span class="ts">Mixins considered harmful/3</span><br/>
<span class="as">by Michele Simionato</span><br/>
<span class="pd">April 3, 2009</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
My series against mixins continues. This time I consider using proxies instead of mixins, and I pose a design problem
which will be solved in the last issue.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<div class="section">
<h1><a id="three-attitudes" name="three-attitudes">Three attitudes</a></h1>
<p>In recent years I have become an opponent of multiple inheritance and
mixins, for reasons which I have discussed at length in the
<a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=246341.html">first</a> and <a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=246483.html">second</a> paper of this series: namespace pollution,
insufficient separation of concerns, fragility with respect to name
clashes, complication of the method resolution order, non scalability
of the design and even simple conceptual confusion with the <em>is a</em>
relation.</p>
<p>Moreover, I have argued that mixins are the wrong tool for the job: if
you need a method to be mixed into different classes, then you are
better off not mixing it, putting it at toplevel and promoting it to a
<a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=237764.html">multimethod</a>/<a class="reference" href="../_/http/en.wikipedia.org/wiki/Multiple_dispatch/index.html">generic function</a>.</p>
<p>Nevertheless, a lot of people think that mixins are very
cool and a lot of new languages present mixins as the panacea
to all evil in object oriented design. This is the reason why
I have started this series, which is intended to make developers using
languages which features multiple inheritance or mixins think.</p>
<p>In my view there are at least three possible attitudes
for a developer using a language with mixins (say Python):</p>
<ol class="arabic">
<li><p class="first">Resignation</p>
<p>Acknowledge that since the language allows mixins and
they are used by many frameworks, they will never go away.
Therefore one should focus on discovering workarounds to cope
with the situation, like the <tt class="docutils literal"><span class="pre">warn_overriding</span></tt> decorator that I
introduced in the first article of this series; one can also write
better introspection tools to navigate though mixins (the issue
with pydoc is that it give <em>too much</em> information);</p>
</li>
<li><p class="first">Education</p>
<p>We (the "experts") should make an effort to communicate
to the large public the issues with mixins and try to convince framework
authors to use alternative designs. That is what I am trying to accomplish
with this series.</p>
</li>
<li><p class="first">Research</p>
<p>Study better implementations of the mixin idea: even if there
is no hope for the language you are using, research is not useless
since it may be implemented in languages yet to be written.
Python itself can be used as an experimentation language, as I show
in my <a class="reference" href="../_/http/pypi.python.org/pypi/strait/index.html">strait</a> module, where I pervert the Python object system to
become a single inheritance + traits object system, instead of
a multiple inheritance system. In the fourth paper of this series
I will show yet another approach, by implementing the mixin idea
in terms of composition and not of inheritance.</p>
</li>
</ol>
</div>
<div class="section">
<h1><a id="avoiding-multiple-inheritance-with-proxies" name="avoiding-multiple-inheritance-with-proxies">Avoiding multiple inheritance with proxies</a></h1>
<p>While I think that multimethods are the right way to solve the problem
that mixins are tring to solve, the solution of defining functions
outside classes and leveraging on multiple dispatch is a radical
departure from the traditional style of object oriented programming,
which is based on single dispatch and methods defined inside classes.</p>
<p>If you want to keep single dispatch, then there is basically only one
way to avoid inheritance, i.e. to replace it with <em>composition</em>,
possibly by adding delegation to the mix.  The practical
implementations of this idea are very different and one can think of
many ways to replace inheritance with composition.</p>
<p>The <a class="reference" href="../_/http/pypi.python.org/pypi/strait/index.html">strait</a> module for instance just inject methods in a class
directly (provided they satisfy some checks) and as such it is a not
a big improvements with respect to inheritance: the advantages are in
the protection against name clashes and in the simplication of the
method resolution order. However, one could argue that those
advantages are not enough, since the namespace pollution
problem is still there.</p>
<p>An alternative solution is to use composition plus delegation, i.e.
to make use of proxies. For instance, in the case discussed in the <a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=246483.html">second</a>
paper of this series, we could have solved the design problem without
using multiple inheritance, just with composition + delegation:</p>
<pre class="literal-block">
class PictureContainer(DictMixin):
  "PictureContainer is a proxy to the underlying SimplePictureContainer"
  from utility import log

  def __init__(self, id, pictures_or_containers):
    self._pc = SimplePictureContainer(id, pictures_or_containers)
    self.data = self._pc.data # avoids an indirection step

  def __getitem__(self, id):
    return self.data[id]

  def __setitem__(self, id, value):
    self.log.info('Adding or replacing %s into %s', id, self.id)
    self.data[id] = value

  def __delitem__(self, id):
    self.log.warn('Deleting %s', id)
    del self.data[id]

  def keys(self):
    return self.data.keys()

  def __getattr__(self, name):
    return getattr(self._pc, name)
</pre>
<p>Thanks to the <tt class="docutils literal"><span class="pre">__getattr__</span></tt> trick, <tt class="docutils literal"><span class="pre">PictureContainer</span></tt> is now
a proxy to a <tt class="docutils literal"><span class="pre">SimplePictureContainer</span></tt> and all the methods of
<tt class="docutils literal"><span class="pre">SimplePictureContainer</span></tt> are available to <tt class="docutils literal"><span class="pre">PictureContainer</span></tt>,
on top of the methods coming from <tt class="docutils literal"><span class="pre">DictMixin</span></tt>: we did basically
fake multiple inheritance without complicating the hierarchy.</p>
<img alt="../_/http/www.phyast.pitt.edu/~micheles/scheme/box.jpg" src="../_/http/www.phyast.pitt.edu/~micheles/scheme/box.jpg">
<p>A disadvantage of <tt class="docutils literal"><span class="pre">PictureContainer</span></tt> is that its instances are no
more instances of <tt class="docutils literal"><span class="pre">SimplePictureContainer</span></tt>, therefore if your code
contained checks like <tt class="docutils literal"><span class="pre">isinstance(obj,</span> <span class="pre">SimplePictureContainer)</span></tt>
(which is a very bad practice, at least for Python versions below Python 2.6)
the check would fail. The problem has been solved in
Python 2.6 thanks to the Abstract Base Class mechanism (<a class="reference" href="../_/http/www.python.org/dev/peps/pep-3119/index.html">ABC</a>);
it is enought to register <tt class="docutils literal"><span class="pre">SimplePictureContainer</span></tt> as an ABC of
<tt class="docutils literal"><span class="pre">PictureContainer</span></tt> and you are done.</p>
<p>I like proxies because the cognitive load of a proxy - an object
dispatching to another method - is much smaller than the cognitive
load imposed by inheritance.</p>
<p>If I see an object which is an instance of a class, I feel obliged to
know all the methods of that class, including all the methods of its
ancestors, because I could override them accidentally.</p>
<p>On the other hand, if an object is a proxy, I just note in my mind
that it contains a reference to the proxied object, but I do not feel
obliged to know everything about the proxied object; it is enough for
me to know which methods are called by the proxy methods, if any. It
is more of a psychological effect, but I like proxies since they keep
the complexity confined, whereas inheritance exposes it directly.</p>
<p>I should notice that if the proxy has a method which accidentally shadows a
method of the underlying object, nothing particularly bad happens.
That method will not work, but the other methods will keep working,
since they will call the methods of the original object. In
inheritance instead, an accidental overriding may cause havoc, since
other methods of the object may call the accidentally overridden
method, with errors appearing in apparently unrelated portions of
code.</p>
</img></div>
<div class="section">
<h1><a id="an-exercise-in-design" name="an-exercise-in-design">An exercise in design</a></h1>
<p>As well as I like proxies, they are not perfect. I can see two
problems with them: they slowdown attribute access quite a lot (this a
performance problem, therefore not something that should concern a
Pythonista a lot) and they are pretty opaque, since they hide the
underlying object quite a lot (this is a feature, of course, but
sometimes you would prefer to be more explicit). Moreover, if you have
a complex problem, you do not want to solve it <em>onion-style</em>, by using
proxies to proxies to proxies.</p>
<p>Since I do not like to talk in abstract, let me refer to the
<tt class="docutils literal"><span class="pre">PictureContainer</span></tt> example again.</p>
<p>The class <tt class="docutils literal"><span class="pre">PictureContainer</span></tt> inherits from <tt class="docutils literal"><span class="pre">DictMixin</span></tt> and I said that
this is good since <tt class="docutils literal"><span class="pre">DictMixin</span></tt> provided only 19 attributes (you can see
them with <tt class="docutils literal"><span class="pre">dir(DictMixin)</span></tt>) which are well known to everybody
knowing Python dictionaries, therefore the cognitive load is null.
The problem begins when you decide that you need to add features to
<tt class="docutils literal"><span class="pre">PictureContainer</span></tt>.</p>
<p>For instance, if we are writing a GUI application, we may need methods
such as <tt class="docutils literal"><span class="pre">set_thumbnails_size,</span> <span class="pre">get_thumbnails_size,</span>
<span class="pre">generate_thumbnails,</span> <span class="pre">show_thumbnails,</span> <span class="pre">make_picture_menu,</span> <span class="pre">show_picture_menu</span></tt>,
et cetera; let us say we need 50 GUI-related methods or more (methods to set
parameters, methods to make menus, buttons, auxiliary methods and more).
We could include all those methods into a mixin class called
<tt class="docutils literal"><span class="pre">GUI</span></tt> and we could inherit from both <tt class="docutils literal"><span class="pre">DictMixin</span></tt> and <tt class="docutils literal"><span class="pre">GUI</span></tt>.</p>
<p>That's all good. However, suppose version 2.0 of our application is
required to be available through a Web interface; we may therefore need
to implement the 8 methods of the HTTP protocol
(<tt class="docutils literal"><span class="pre">HEAD,</span> <span class="pre">GET,</span> <span class="pre">POST,</span> <span class="pre">PUT,</span> <span class="pre">DELETE,</span> <span class="pre">TRACE,</span> <span class="pre">OPTIONS,</span> <span class="pre">CONNECT</span></tt>) into another
mixin class. Moreover, if we want to give the ability to edit the images
to our users, we may need to implement a WebDAV interface too, with 7
additional methods <tt class="docutils literal"><span class="pre">PROPFIND,</span> <span class="pre">PROPPATCH,</span> <span class="pre">MKCOL,</span> <span class="pre">COPY,</span> <span class="pre">MOVE,</span> <span class="pre">LOCK,</span> <span class="pre">UNLOCK</span></tt>.</p>
<p>On the other hand, there are users who may prefer the old FTP protocol
to transfer the pictures and therefore we would need to implemente 43
other methods (<tt class="docutils literal"><span class="pre">ABOR,</span> <span class="pre">ALLO,</span> <span class="pre">APPE,</span> <span class="pre">CDUP,</span> <span class="pre">CWD,</span> <span class="pre">DELE,</span> <span class="pre">EPRT,</span> <span class="pre">EPSV,</span> <span class="pre">FEAT,</span>
<span class="pre">HELP,</span> <span class="pre">LIST,</span> <span class="pre">MDTM,</span> <span class="pre">MLSD,</span> <span class="pre">MLST,</span> <span class="pre">MODE,</span> <span class="pre">MKD,</span> <span class="pre">NLST,</span> <span class="pre">NOOP,</span> <span class="pre">OPTS,</span> <span class="pre">PASS,</span> <span class="pre">PASV,</span>
<span class="pre">PORT,</span> <span class="pre">PWD,</span> <span class="pre">QUIT,</span> <span class="pre">REIN,</span> <span class="pre">REST,</span> <span class="pre">RETR,</span> <span class="pre">RMD,</span> <span class="pre">RNFR,</span> <span class="pre">RNTO,</span> <span class="pre">SIZE,</span> <span class="pre">STAT,</span> <span class="pre">STOR,</span>
<span class="pre">STOU,</span> <span class="pre">STRU,</span> <span class="pre">SYST,</span> <span class="pre">TYPE,</span> <span class="pre">USER,</span> <span class="pre">XCUP,</span> <span class="pre">XCWD,</span> <span class="pre">XMKD,</span> <span class="pre">XPWD,</span> <span class="pre">XRMD</span></tt>).
Finally, we will need a few authorization-related methods (<tt class="docutils literal"><span class="pre">is_admin,</span>
<span class="pre">is_logged_user,</span> <span class="pre">is_anonymous_user,</span> <span class="pre">is_picture_owner,</span> <span class="pre">is_friend_of</span></tt>,
eccetera), let's say 20 methods to be stored into another mixin class
<tt class="docutils literal"><span class="pre">AUTH</span></tt>.</p>
<p>Now we are left with six mixin classes (<tt class="docutils literal"><span class="pre">DictMixin</span></tt>, <tt class="docutils literal"><span class="pre">GUI</span></tt>,
<tt class="docutils literal"><span class="pre">HTTP</span></tt>, <tt class="docutils literal"><span class="pre">WEBDAV</span></tt>, <tt class="docutils literal"><span class="pre">FTP</span></tt>, <tt class="docutils literal"><span class="pre">AUTH</span></tt>) and a total of at least 20
(from <tt class="docutils literal"><span class="pre">DictMixin</span></tt>) + 50 (from <tt class="docutils literal"><span class="pre">GUI</span></tt>) + 8 (from <tt class="docutils literal"><span class="pre">HTTP</span></tt>) + 7 (from
<tt class="docutils literal"><span class="pre">WEBDAV</span></tt>) + 44 (from <tt class="docutils literal"><span class="pre">FTP</span></tt>) + 20 (from <tt class="docutils literal"><span class="pre">AUTH</span></tt>) = 148 methods
coming from the mixin classes. To those methods you may add the
methods coming from the <tt class="docutils literal"><span class="pre">PictureContainer</span></tt> class.  This is not nice,
especially if you think that in future versions you may need to
support yet another interface and more mixin methods.  In my estimate
I have been conservative, but it is easy to reach hundreds of
methods. This scenario is exactly what happened in Zope/Plone.</p>
<p>It is clear that making a six level proxy of proxy wrapping a set of methods
over the other is not a better solution than using mixins. Using <a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=246488.html">traits</a>
would not be better either.
One must ask if there are alternative designs that
avoid the overpopulation problem. The answer is yes, of course,
but in order to keep the suspence up, I will not show any solution
to this design problem in this issue. I leave it for my next
(and last) paper on the subject, so that you have some time to come
up with a solution of your own ;)</p>
<img alt="../_/http/www.phyast.pitt.edu/~micheles/scheme/diavolo.png" src="../_/http/www.phyast.pitt.edu/~micheles/scheme/diavolo.png">
<p><em>to be continued ...</em></p>
</img></div>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=254367.html">1

comment</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=254367&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Michele Simionato adds a new entry to <a href="../index.html$/blogger=micheles.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/micheles.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D254367&amp;title=Mixins+considered+harmful%2F3&amp;bodytext=My+series+against+mixins+continues.+This+time+I+consider+using+proxies+instead+of+mixins%2C+and+I+pose+a+design+problem%0D%0Awhich+will+be+solved+in+the+last+issue.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16"/>Digg
  </a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D254367&amp;title=Mixins+considered+harmful%2F3">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16"/>del.icio.us
  </a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D254367&amp;title=Mixins+considered+harmful%2F3">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/micheleSimionato.jpg"/></td><td>Michele Simionato started his career as a Theoretical Physicist, working in Italy, France and the U.S. He turned to programming in 2003; since then he has been working professionally as a Python developer and now he lives in Milan, Italy. Michele is well known in the Python community for his posts in the newsgroup(s), his articles and his Open Source libraries and recipes. His interests include object oriented programming, functional programming, and in general programming metodologies that enable us to manage the complexity of modern software developement.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2009 Michele Simionato. All rights reserved.</div>
</p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
