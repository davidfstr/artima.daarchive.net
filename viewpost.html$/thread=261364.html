
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>The Adventures of a Pythonista in Schemeland/30</title>
<meta charset="utf-8"/>
<meta content="Michele Simionato" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=micheles.html">Michele Simionato's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=261364.html">Discuss</a> | 
<a href="mailto:?subject=The Adventures of a Pythonista in Schemeland/30&amp;body= %0AArtima Weblogs %0AThe Adventures of a Pythonista in Schemeland/30 %0Aby Michele Simionato %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=261364">Email</a> | 
<a href="../viewpostP.html$/thread=261364.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=261363.html" title="The Adventures of a Pythonista in Schemeland/29">Previous</a> | 
<a class="sl" href="thread=265857.html" title="What I am doing now">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">The Explorer</span><br>
<span class="ts">The Adventures of a Pythonista in Schemeland/30</span><br/>
<span class="as">by Michele Simionato</span><br/>
<span class="pd">August 5, 2009</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
What does it mean that two identifiers are equal in a lexically scoped language with hygienic macros? This last
episode of part V tries to answer the question, by discussing three different concepts of identifier equality.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<h1 class="title">Comparing identifiers</h1>
<p>This is the last episode of part V of my Adventures. In the latest
episodes I have discussed various technicalities of Scheme macros,
such as the concepts of syntax object, hygiene and lexical context.
There is still an important subject to be discuss in order to
become really proficient with Scheme macros: <em>identifier equality</em>.
Equality of identifiers is one of the trickiest things in
Scheme.</p>
<p>First of all, identifier equality is a compile-time
concept which has nothing to do with the run-time concept of equality
between variables.
Identifiers are not variables: they are syntax objects with an
underlying symbol and an underlying lexical context, which are known
statically at compile time. It is possible to know if an
identifier is bound or not at compile-time, but the value the
identifier will be bound to at run-time is (in general) unknown.</p>
<p>Secondly, there is not a single concept of identifier equality,
but different definitions are possible. In this episode I will
discuss three different predicates to compare identifiers:
<tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt>, <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> and <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>
(the latter two are part of the R6RS standard).</p>
<img alt="../_/http/www.phyast.pitt.edu/~micheles/scheme/identity.png" src="../_/http/www.phyast.pitt.edu/~micheles/scheme/identity.png">
<div class="section">
<h1><a id="symbol-identifier" name="symbol-identifier"><tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt></a></h1>
<p>The simplest concept of identifier equality is expressed by
the following <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> comparison function
(for convenience, I have added the <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt>
precedure to the <tt class="docutils literal"><span class="pre">(aps</span> <span class="pre">lang)</span></tt> library):</p>
<pre class="literal-block">
(define (symbol-identifier=? id1 id2)
  (symbol=? (syntax-&gt;datum id1) (syntax-&gt;datum id2)))
</pre>
<p>Two identifiers are <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> if they are equal as
symbols, once their lexical information has been stripped out.</p>
<p>For instance, <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> can
be used to find duplicated names in macros defining <tt class="docutils literal"><span class="pre">name-&gt;value</span></tt>
tables, such as the <tt class="docutils literal"><span class="pre">static-map</span></tt> macro I discussed in episode <a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=256848.html">22</a>. Moreover,
<tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> can be used to reject reserved
identifiers (you may need such
functionality if are building a mini-language on top of Scheme
and you want to reject a few identifiers as language keywords), as
in the following example:</p>
<pre class="literal-block">
(def-syntax (check-reserved id)
  (syntax-violation 'check-reserved "Reserved identifier" #'id)
  (exists (cut symbol-identifier=? #'id &lt;&gt;) (list #'reserved1 #'reserved2))
  'non-reserved)
</pre>
<p><tt class="docutils literal"><span class="pre">(check-reserved</span> <span class="pre">id)</span></tt> will raise a syntax-violation if <tt class="docutils literal"><span class="pre">id</span></tt>
is one of the keyword <tt class="docutils literal"><span class="pre">reserved1</span></tt> or  <tt class="docutils literal"><span class="pre">reserved2</span></tt>.</p>
</div>
<div class="section">
<h1><a id="bound-identifier" name="bound-identifier"><tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt></a></h1>
<p><tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> is simple and easy to understand, but it cannot
be used in all situations. Consider for instance the very first macro
I wrote, in episode <a class="reference" href="../_/http/www.artima.com/weblogs/viewpost.html$/thread=240804.html">9</a>:</p>
<pre class="literal-block">
(def-syntax (multi-define (name1 name2 ...) (value1 value2 ...))
  #'(begin (define name1 value1) (define name2 value2) ...))
</pre>
<p>It is quite common to write macros defining multiple bindings, such
as <tt class="docutils literal"><span class="pre">multi-define</span></tt>.
<tt class="docutils literal"><span class="pre">multi-define</span></tt> as written does not perform any check for duplicated
identifiers, so that it
relies on the standard behavior of R6RS scheme, raising an error.
However, the standard behavior only applies to programs and scripts,
whereas the REPL is quite free to behaves differently and indeed it does
in most implementations:</p>
<pre class="literal-block">
&gt; (multi-define (a a) (1 2)); in Ikarus, Ypsilon, ...
a
2
</pre>
<p>(in the REPL latter definitions override previous definitions).
If you are unhappy with that, you can introduce a <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> check
and raise a custom exception:</p>
<pre class="literal-block">
(def-syntax (multi-define (name1 name2 ...) (value1 value2 ...))
    #'(begin (define name1 value1) (define name2 value2) ...)
    (distinct? bound-identifier=? #'(name1 name2 ...))
    (syntax-violation 'multi-define "Found duplicated identifier in"
                      #'(name1 name2 ...)))
</pre>
<p>Two identifiers are equal according to <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> only if
they have the same name <em>and</em> the same marks. The name is
misleading since the arguments of <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> are not
required to be bound identifiers; a better name would be
<tt class="docutils literal"><span class="pre">strict-identifier=?</span></tt>.</p>
<p>You can <tt class="docutils literal"><span class="pre">check</span></tt> that <tt class="docutils literal"><span class="pre">multi-define</span></tt> correctly reject duplicated
identifiers:</p>
<pre class="literal-block">
&gt; (multi-define (a a) (1 2))
Unhandled exception
 Condition components:
   1. &amp;who: multi-define
   2. &amp;message: "Found duplicated identifier in"
   3. &amp;syntax:
       form: (a a)
       subform: #f
</pre>
<p>In this simple example using <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> would work too.
However this is not the geneal case. Consider
for instance the following macro expanding to <tt class="docutils literal"><span class="pre">multi-define</span></tt>:</p>
<pre class="literal-block">
(def-syntax (multi-define2 id value)
   #'(multi-define (id id2) (value 'dummy)))
</pre>
<p><tt class="docutils literal"><span class="pre">multi-define2</span></tt> introduces a dummy identifier <tt class="docutils literal"><span class="pre">id2</span></tt>.
Had we defined <tt class="docutils literal"><span class="pre">multi-define</span></tt> in terms of <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt>,
calling <tt class="docutils literal"><span class="pre">multi-define2</span></tt> with argument <tt class="docutils literal"><span class="pre">id</span></tt> equal to  <tt class="docutils literal"><span class="pre">id2</span></tt>
would have generated a spurious name clash. Fortunately, since we defined
<tt class="docutils literal"><span class="pre">multi-define</span></tt> in terms of <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt>, nothing bad happens:</p>
<pre class="literal-block">
&gt; (multi-define2 id2 1)
id2
1
</pre>
<p><tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> works in this case because
the identifier <tt class="docutils literal"><span class="pre">id2</span></tt> introduced by the macro has
different marks from the identifier <tt class="docutils literal"><span class="pre">id2</span></tt> coming as an argument.</p>
<p><tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> is not good for every circumstance. Consider
for instance the following variation of <tt class="docutils literal"><span class="pre">multi-define</span></tt>, featuring
a literal keyword <tt class="docutils literal"><span class="pre">as</span></tt>:</p>
<pre class="literal-block">
;; not checking for duplicated identifiers here
(define-syntax multi-def
  (syntax-rules (as)
    ((multi-def (name as value) ...)
     (begin (define name value) ...))))
</pre>
<p>This work, but the error messages could stand some improvement.
For instance, if an user misspells the infix identifier <tt class="docutils literal"><span class="pre">as</span></tt>,
she gets a generic <tt class="docutils literal"><span class="pre">"invalid</span> <span class="pre">syntax"</span></tt> error, whereas we
would like to provide a customized error message showing the misspelled
literal identifier. Using <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt> we could try to
solve the problem as follows:</p>
<pre class="literal-block">
(def-syntax  (multi-def-bad (name as_ value) ...)
  #'(begin (define name value) ...)
  (for-all (lambda (id)
             (when (not (bound-identifier=? id #'as))
               (syntax-violation
                'multi-def-bad "Offending infix syntax (expected `as')" id)))
           #'(as_ ...)))
</pre>
<p>Unfortunately this solution does not work at all, since it raises
an error even when the <tt class="docutils literal"><span class="pre">as</span></tt> identifiers are spelled correctly:</p>
<pre class="literal-block">
&gt; (multi-def-bad (x as y) (1 as 2))
Unhandled exception
 Condition components:
   1. &amp;who: multi-def-bad
   2. &amp;message: "Offending infix syntax (expected `as')"
   3. &amp;syntax:
       form: as
       subform: #f
   4. &amp;trace: #&lt;syntax as&gt;
</pre>
<p>The reason is that <tt class="docutils literal"><span class="pre">as</span></tt> is not <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt>
to <tt class="docutils literal"><span class="pre">#'as</span></tt>. We need a less strict comparison predicate.
To this aim the Scheme standard provides another equality procedures
for identifiers, <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>, which however is not quite right.</p>
</div>
<div class="section">
<h1><a id="free-identifier" name="free-identifier"><tt class="docutils literal"><span class="pre">free-identifier=?</span></tt></a></h1>
<p><tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> is
the most complicated equality predicate.
I find its <a class="reference" href="../_/http/www.r6rs.org/final/html/r6rs-lib/r6rs-lib-Z-H-13.html#node_idx_1142">description in the R6RS document</a> particularly confusing and
the name is misleading since the arguments of
<tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> are not required to be free identifiers.
A better name would be <tt class="docutils literal"><span class="pre">lax-identifier=?</span></tt>.
Two identifiers are <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> if</p>
<ol class="arabic simple">
<li>they are both bound to the same binding and they share the same name
(or they shared the same name before renaming at import time);</li>
<li>they are both unbound and they share the same name.</li>
</ol>
<p>In implementations with full phase separation, the identifiers
must also be both bound/unbound in the same phase.
In all other cases the two identifiers are not <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>.
Here is an example:</p>
<pre class="literal-block">
&gt; (import (only (aps list-utils) range))
&gt; (import (rename (aps list-utils) (range r)))
&gt; (free-identifier=? #'r #'range)
#t
</pre>
<p>Notice that both <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt> and <tt class="docutils literal"><span class="pre">bound-identifier=?</span></tt>
would fail to recognize the identity of <tt class="docutils literal"><span class="pre">range</span></tt> and <tt class="docutils literal"><span class="pre">r</span></tt> in this
case.</p>
<p>It is important to know about <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> because
in macros with literal identifiers the literal identifiers
are compared by using it, internally. That explain a behavior
which can be quite surprising.</p>
</div>
<div class="section">
<h1><a id="literal-identifiers-and-auxiliary-syntax" name="literal-identifiers-and-auxiliary-syntax">Literal identifiers and auxiliary syntax</a></h1>
<p>Consider the macro <tt class="docutils literal"><span class="pre">multi-def</span></tt> defined in the previous
paragraph. This works:</p>
<pre class="literal-block">
&gt; (let ()
   (multi-def (x as 1) (y as 2))
   (list x y))
(1 2)
</pre>
<p>But this does not work:</p>
<pre class="literal-block">
&gt; (let ((as 2))
    (multi-def (x as 1) (y as 2))
    (list x y))
Unhandled exception
 Condition components:
   1. &amp;message: "invalid syntax"
   2. &amp;syntax:
       form: (multi-def (x as 1) (y as 2))
       subform: #f
   3. &amp;trace: #&lt;syntax (multi-def (x as 1) (y as 2))&gt;
</pre>
<p>That looks surprising, but it is not once you realize that internally
literal identifiers are compared via  <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>.
In the second example <tt class="docutils literal"><span class="pre">as</span></tt> is bound, and therefore
it is not <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> to the literal identifier <tt class="docutils literal"><span class="pre">#'as</span></tt>, which
is unbound.</p>
<p>The recommended "solution" is to introduce at top level some dummy definitions
for the literal identifiers you are going to use in your macro, and to export
them. Following this policy,
the R6RS document defines a set of special macros,
<tt class="docutils literal"><span class="pre">_</span></tt>, <tt class="docutils literal"><span class="pre">...</span></tt>, <tt class="docutils literal"><span class="pre">else</span></tt> and <tt class="docutils literal"><span class="pre">=&gt;</span></tt>, which lives in the global
namespace and are available to all R6RS programs.</p>
<p>Such macros are used
as auxiliary syntax in various special forms, like <tt class="docutils literal"><span class="pre">cond</span></tt> and
<tt class="docutils literal"><span class="pre">syntax-case</span></tt>; for this reason they are usually called auxiliary
keywords.  The existence of such global variables makes it impossible
to redefine them at top-level in scripts (but it can be done at the
REPL); however they can be redefined locally, thus breaking the macros
using the auxiliary syntax:</p>
<pre class="literal-block">
&gt; (let ((else #f))
   (cond (else 'something)))
&gt; ; does not return something
</pre>
<p>I think this is fundamentally
broken: literal identifiers should be a concept internal to
the macro and they should not be exported. The mistake is
that the R6RS requires the literal identifiers to be matched
via <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>, whereas they should be matched
with <tt class="docutils literal"><span class="pre">symbol-identifier=?</span></tt>. I never understood why the editors
decided to use <tt class="docutils literal"><span class="pre">free-identifier=?</span></tt>, perhaps because it makes it
possible to rename the identifiers used as literal identifiers,
a feature that looks of little utility to me. All in all, I think
<tt class="docutils literal"><span class="pre">free-identifier=?</span></tt> is another dark corner of R6RS Scheme.</p>
</div>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=261364.html">1

comment</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=261364&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Michele Simionato adds a new entry to <a href="../index.html$/blogger=micheles.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/micheles.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D261364&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F30&amp;bodytext=What+does+it+mean+that+two+identifiers+are+equal+in+a+lexically+scoped+language+with+hygienic+macros%3F+This+last%0D%0Aepisode+of+part+V+tries+to+answer+the+question%2C+by+discussing+three+different+concepts+of+identifier+equality.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D261364&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F30">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16"/>del.icio.us
  </a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D261364&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F30">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/micheleSimionato.jpg"/></td><td>Michele Simionato started his career as a Theoretical Physicist, working in Italy, France and the U.S. He turned to programming in 2003; since then he has been working professionally as a Python developer and now he lives in Milan, Italy. Michele is well known in the Python community for his posts in the newsgroup(s), his articles and his Open Source libraries and recipes. His interests include object oriented programming, functional programming, and in general programming metodologies that enable us to manage the complexity of modern software developement.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2009 Michele Simionato. All rights reserved.</div>
</p></p></p></p></img></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
