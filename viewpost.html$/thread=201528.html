
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>A First Look at Apollo</title>
<meta charset="utf-8"/>
<meta content="Frank Sommers" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=fsommers.html">Frank Sommers' Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=201528.html">Discuss</a> | 
<a href="mailto:?subject=A First Look at Apollo&amp;body= %0AArtima Weblogs %0AA First Look at Apollo %0Aby Frank Sommers %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=201528">Email</a> | 
<a href="../viewpostP.html$/thread=201528.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=199107.html" title="The Real Lesson of Flex">Previous</a> | 
<a class="sl" href="thread=201960.html" title="Thoughts on Scaling Without a Database">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">Frank Thoughts</span><br>
<span class="ts">A First Look at Apollo</span><br/>
<span class="as">by Frank Sommers</span><br/>
<span class="pd">April 7, 2007</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
The alpha release of Apollo generated both excitement and healthy skepticism about Adobe's new client-side runtime. I decided to take a first-hand look at Apollo and summarize some of my findings in this blog post.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<p>When Adobe announced in March the first alpha release of its new desktop runtime, Apollo, initial reactions were mixed. Positive comments seemed to agree with <a href="../_/http/www.techcrunch.com/2006/12/16/preparing-for-apollo/index.html">TechCrunch</a>'s Michael Arrington:</p>
<blockquote>
<p>It could be the technology to watch for 2007. And Adobe is certainly counting on it to drive future revenue... Apollo will be useful for running desktop versions of critical web applications like email and calendaring, where offline access and application speed is sometimes important.</p>
</blockquote>
<p>Others, however, had reservations about yet another technology to cloud the rich-client development space. Alex Iskold on <a href="../_/http/www.readwriteweb.com/archives/adobe_apollo_collision_course_browsers.html">ReadWriteWeb</a> echoed those sentiments:</p>
<blockquote>
<p>It appears that, intentionally or not, Adobe is on a collision course with IE, Firefox and the rest of the Web browsers. Firefox has already said it is [sic] looking to add support for offline applications into its next version. If this happens, it will be bad news for Apollo... IE plans in the same space are not clear, but we can be certain that if offline mode for web applications takes off, then there will be support in IE.</p>
</blockquote>
<p>One thing most Apollo commenters seemed to agree on: Rich-client developer tools are reaching a critical mass, leading not only to more interactive Web applications, to but also to new application architecture styles.</p>
<p>I will have more to say about how rich-clients are influencing application architecture styles, such as REST, in a future blog post. For now, I'd like to report on my first impressions of Apollo, concluding with some comments on supporting off-line Web applications.</p>
<h1>Your Custom Browser</h1>
<p>A concise definition of Apollo invites at least two considerations. Adobe's Acrobat Reader and Macromedia's Flash player are among the most widely used pieces of software on user desktops, and it seems sensible for a post-merger Adobe/Macromedia combo to fuse the best features of Acrobat and Flash into a single runtime. On the surface, that's what Apollo provides. (Note that the current Apollo alpha doesn't yet support PDF, but the 1.0 release will.)</p>
<p>An equally important consideration, however, is that Apollo is built on top of <a href="../_/http/webkit.org/index.html">WebKit</a>, the open-source browser toolkit. That means, in effect, that Apollo gives you the ability to offer your own custom browser to users of your application. For Apollo applications, that browser functionality is provided via an <code>HTML</code> component available in Flex's XML UI API. Creating and displaying the simplest browser requires just a few lines of code:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;mx:ApolloApplication xmlns:mx="http://www.adobe.com/2006/mxml" 
layout="absolute" width="600" height="500" creationComplete="htmlComponent.location = 'http://www.artima.com'"&gt;
&lt;mx:HTML width="100%" height="100%" id="htmlComponent"/&gt;
&lt;/mx:ApolloApplication&gt;
</pre>
<p>Assigning a new URL to the <code>location</code> property, as in the <code>creationComplete</code> event's handler, causes that URL to be loaded into the browser component.</p>
<p>If you save the above code into a file and run that file through the Flex compiler, you can then generate an AIR file, Apollo's distribution format, and share that file with your users. Users with a pre-installed Apollo runtime can click on the AIR file's URL, causing the application to download and install on the desktop just as if it was a native application, including desktop icons and start menu integration. The Apollo runtime is under 6MB, and it is anticipated that in the future it might piggyback on some popular Adobe technology, such as Acrobat. A simple Apollo application I created resulted in an AIR file of just above 300KB. </p>
<p>The browser component, for all practical purposes, has the same rendering engine as Safari, and can equally execute JavaScript code. Indeed, Apollo's documentation predicts two kinds of applications targeting Apollo: those written primarily in HTML, and those written chiefly with Flex.</p>
<p>While it would make little sense to deploy Apollo for a pure HTML-based Web site, a more interesting possibility is to write a bit of Flex code to extend the Web user interface with the ability to interact with the desktop. An obvious use-case is giving access to the filesystem, but more intriguing desktop integration is possible, too, such as capturing input form a user's Webcam or microphone. </p>
<p>Flex-based applications can run inside Apollo with almost no changes. Indeed, a Flex application can be turned into an Apollo application just by changing the outmost application container from <code>mx.core.Application</code> to <code>mx.core.ApolloApplication</code>. In that sense, Apollo is similar to "Flash reflectors" that let Flash applications install and run on the local desktop.</p>
<p>I haven't yet experimented with Apollo's capability to let Flex code call JavaScript in an HTML page, and, vice versa, to have JavaScript call into Flex code. That two-way communication seems to be at the crux of a new type of hybrid Web UI: delivered as a regular Ajax page, such an application can discover the browser environment, and extend its capabilities if, for instance, it ran inside Apollo.</p>
<h1>Accessing the Filesystem</h1>
<p>Apart from integration with the native desktop, the main focus of the Apollo alpha release is providing full access to the filesystem. Filesystem access is defined as an extension to the Flex API, since Flex <em>sans</em> Apollo, running in a browser, doesn't have access to the filesystem apart from simple file upload and cookie-style file storage.</p>
<p>An interesting aspect of Apollo's filesystem API is that it carves out a persistent storage area on the local disk for each Apollo application. Such application storage areas are specified in a platform-independent manner. Otherwise, there is nothing surprising about the Apollo filesystem API: It provides the standard sort of APIs to navigate the filesystem, and create, read, and write files.</p>
<p>The security implications of a downloaded Apollo application are similar to privileges allocated to any other natively installed software. That, in turn, is no different from security of Java WebStart, the closest Java technology to Apollo. Prior to installing an Apollo application, the Apollo runtime informs the user about the software's publisher, including the AIR file's digital signature, if there's any. Once a user agrees to install the software, the application has the full access capabilities allocated to the user.</p>
<h1>Getting Disconnected</h1>
<p>Apollo also provides APIs calls that let the application determine if external network connectivity is available. An event listener mechanism notifies the application of connectivity changes occurring on the native platform. More than just an error-checking mechanism, network connectivity detection is supposed to enable applications with distinct online and off-line modes.</p>
<p>For such applications, lack of connectivity is not an error, but an indication to switch to a mode of operation that does not require connectivity. Apollo does not itself seem to provide an API to help define an off-line application mode—there is no magic cache or some other mechanism that would let the user believe that he is online when, in fact, he is not. Instead, developers are expected to think through the kinds of operations that can performed off-line, and craft the application's user interaction such that off-line mode is still useful to the user.</p>
<p>In the simplest case, off-line mode means read-only access to data, especially for applications that need to present exclusively online content. A more sophisticated design would use the local filesystem to cache additional content a user may wish to navigate, similar to how, for instance, Google's Web Accelerator pre-fetches content into the browser's cache.</p>
<p>Still more intriguing design challenges are posed by applications that let the user create new content offline, synchronizing newly created or edited objects back to a server when connectivity is again available. Such applications will likely borrow techniques from highly distributed databases and distributed caches to ensure an acceptable level of data consistency.</p>
<p>One such technique is the use of globally-unique object IDs. In the database community, Joe Celko <a href="../_/http/groups.google.com/group/microsoft.public.sqlserver.programming/msg/6d61dbf80d6f0fb6$/hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;rnum=14/index.html">wrote</a> some years ago about the advantages of using globally unique IDs as database primary keys. Others have since <a href="../_/http/www.codinghorror.com/blog/archives/000817.html">summarized</a> the pros and cons of using about 128 bits to define a database primary key value.</p>
<p>GUIDs, combined with optimistic locking and data versioning, may prove useful when implementing off-line mode with the ability to create and modify data: The client itself can assign a unique key to a newly created object, and that object can later be migrated to a database on a central server with a high degree of confidence that the object's primary key represents a unique database value. Flex's <code>mx.utils.UIDUtil</code> class supports the creation of such object IDs on the client.</p>
<h1>Back to the Server</h1>
<p>Designing applications with distinct offline and online modes seems less of a client-side development challenge as a question of extending traditional enterprise architectures to gracefully deal with such hybrid clients. Assuming that every client operates with such diverse modes would incur an unfair overhead for more traditional browser clients (pushing 128-bit IDs around would waste a lot of bandwidth for traditional clients, for instance). </p>
<p>My sense at this point is that REST-style architectures that maintain little state on the server seem better suited to Apollo-like rich clients: Rich clients depend on rich client-side state, and managing both client-side and a server-side state, to paraphrase <a href="../_/http/www.artima.com/intv/perfect.html">Ken Arnold</a>, seems like double hell.</p>
<p>While Apollo itself doesn't prescribe a design for occasionally connected applications, it does simplify client-side state management: Apollo's persistent storage capability combined with Flex's sophisticated data binding API invite application architectures where the client, far from being just a UI layer, is an active participant in managing the application's data.</p>
<p>To be sure, Apollo is not the only emerging technology to bestow the client a greater role: As several Apollo critics point out, Firefox and Microsoft will soon offer similar choices.</p>
<p>That brings me to a concluding question: What server-side application architectures do you think are most suited to occasionally-connected applications? What do you see as the biggest issues arising from clients that take responsibility for managing some of an application's data, some of the time?</p>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=201528.html">2

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=201528&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Frank Sommers adds a new entry to <a href="../index.html$/blogger=fsommers.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/fsommers.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D201528&amp;title=A+First+Look+at+Apollo&amp;bodytext=The+alpha+release+of+Apollo+generated+both+excitement+and+healthy+skepticism+about+Adobe%27s+new+client-side+runtime.+I+decided+to+take+a+first-hand+look+at+Apollo+and+summarize+some+of+my+findings+in+this+blog+post.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D201528&amp;title=A+First+Look+at+Apollo">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D201528&amp;title=A+First+Look+at+Apollo">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/frank.jpg"/></td><td>Frank Sommers is a Senior Editor with Artima Developer. Prior to joining Artima, Frank wrote the Jiniology and Web services columns for JavaWorld. Frank also serves as chief editor of the Web zine <em>ClusterComputing.org</em>, the IEEE Technical Committee on Scalable Computing's newsletter. Prior to that, he edited the Newsletter of the IEEE Task Force on Cluster Computing. Frank is also founder and president of Autospaces, a company dedicated to bringing service-oriented computing to the automotive software market.

<p>
Prior to Autospaces, Frank was vice president of technology and chief software architect at a Los Angeles system integration firm. In that capacity, he designed and developed that company's two main products: A financial underwriting system, and an insurance claims management expert system. Before assuming that position, he was a research fellow at the Center for Multiethnic and Transnational Studies at the University of Southern California, where he participated in a geographic information systems (GIS) project mapping the ethnic populations of the world and the diverse demography of southern California. Frank's interests include parallel and distributed computing, data management, programming languages, cluster and grid computing, and the theoretic foundations of computation. He is a member of the ACM and IEEE, and the American Musicological Society.</p></td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2007 Frank Sommers. All rights reserved.</div>
</p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
