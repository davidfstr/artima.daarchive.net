
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>The Adventures of a Pythonista in Schemeland/14</title>
<meta charset="utf-8"/>
<meta content="Michele Simionato" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=micheles.html">Michele Simionato's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=249198.html">Discuss</a> | 
<a href="mailto:?subject=The Adventures of a Pythonista in Schemeland/14&amp;body= %0AArtima Weblogs %0AThe Adventures of a Pythonista in Schemeland/14 %0Aby Michele Simionato %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=249198">Email</a> | 
<a href="../viewpostP.html$/thread=249198.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=248953.html" title="The Adventures of a Pythonista in Schemeland/13">Previous</a> | 
<a class="sl" href="thread=249681.html" title="The Adventures of a Pythonista in Schemeland/15">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">The Explorer</span><br>
<span class="ts">The Adventures of a Pythonista in Schemeland/14</span><br/>
<span class="as">by Michele Simionato</span><br/>
<span class="pd">February 5, 2009</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
Everything you ever wanted to know about currying, partial application, higher order functions and related topics.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<div class="section">
<h1><a id="higher-order-functions-and-curried-functions" name="higher-order-functions-and-curried-functions">Higher order functions and curried functions</a></h1>
<p>A language has support for first class functions if it is possible
to use a function as a regular value, i.e. if it is possible to pass
a function to another function, or return it from a function.
In a language with first class functions, it is therefore possible
to define the concept of higher order function is: a function which accepts
in input or returns in output (or both) another function.</p>
<p>Various imperative languages have support for higher order functions:
all the scripting languages, the latest version of C#, <tt class="docutils literal"><span class="pre">Scala</span></tt>,
and a few others. Still, functional languages have a better support
and higher order functions are used in those language much more
that in imperative languages. This is especially true for languages
such as ML and Haskell, which support curried functions out of the
box: in such languages all functions are really unary functions (i.e. they
accept a single argument) and functions of <em>n</em> arguments are actually
unary functions returning closures. In Scheme this behavior can be
emulated with macros. Here is an example of how one
could define curried functions in Scheme:</p>
<pre class="literal-block">
(def-syntax curried-lambda
  (syntax-match ()
    (sub (curried-lambda () b b* ...)
         #'(begin b b* ...))
    (sub (curried-lambda (x x* ...) b b* ...)
         #'(lambda (x) (curried-lambda (x* ...) b b* ...)))
    ))

(def-syntax (define-curried (f x ...) b b* ...)
  #'(define f (curried-lambda (x ...) b b* ...)))
</pre>
<p><tt class="docutils literal"><span class="pre">define-curried</span></tt> defines a function with (apparently) <em>n</em> arguments
as an unary function returning a closure, i.e. a function with (apparently)
<em>n-1</em> arguments which in turns is an unary function returning a closure
with <em>n-2</em> arguments and so on, until it returns an unary function.
For instance, the following <tt class="docutils literal"><span class="pre">add</span></tt> function</p>
<pre class="literal-block">
(define-curried (add x y) (+ x y))
</pre>
<p>apparently has two arguments, but actually it is an unary function
returning an unary closure:</p>
<pre class="literal-block">
&gt; (add 1)
#&lt;procedure&gt;
&gt; ((add 1) 2)
3
</pre>
<p>You can see how the macro works by using <tt class="docutils literal"><span class="pre">syntax-expand</span></tt>:</p>
<pre class="literal-block">
&gt; (syntax-expand (curried-lambda (x y) (+ x y)))
(lambda (x) (curried-lambda (y) (+ x y)))
</pre>
<p>The internal <tt class="docutils literal"><span class="pre">curried-lambda</span></tt> has a single argument in this case
and thus expands to a regular lambda function, but you can see that
in general you will have a tower of nested lambdas, which dept is equal
to the number of arguments.</p>
<img alt="../_/http/www.phyast.pitt.edu/~micheles/scheme/bw-spiral.jpg" src="../_/http/www.phyast.pitt.edu/~micheles/scheme/bw-spiral.jpg">
<p>Whereas it is possible define curried functions in Scheme, usually
this is not very convenient, unless you are trying to
emulate ML or Haskell idioms. Out of the box, Scheme supports
functions with multiple arguments in a traditional fashion, i.e.
the same as in Python: thus, the most convenient construct is not currying,
but <em>partial application</em>. The Pythonistas here will certainly think
of <tt class="docutils literal"><span class="pre">functools.partial</span></tt>, an utility which was added to the standard
library starting from Python 2.5. Schemers have something similar
(but of course better) in the form of SRFI-26, i.e. the <tt class="docutils literal"><span class="pre">cut</span></tt> and <tt class="docutils literal"><span class="pre">cute</span></tt>
macros by Al Petrofsky.</p>
</img></div>
<div class="section">
<h1><a id="partial-application-cut-and-cute" name="partial-application-cut-and-cute">Partial application: cut and cute</a></h1>
<p>Instead of spending too many words, let me show an example of how
partial function application works both in Python and in Scheme.</p>
<p>Here is the Python version:</p>
<pre class="literal-block">
&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; from operator import add
&gt;&gt;&gt; add1 = partial(add, 1)
&gt;&gt;&gt; add1(2)
3
</pre>
<p>and here is the Scheme version:</p>
<pre class="literal-block">
&gt; (import (srfi-26)); assuming it is available in your implementation
&gt; (define add1 (cut + 1 &lt;&gt;))
&gt; (add1 2)
3
</pre>
<p>In Python, <tt class="docutils literal"><span class="pre">partial(add,</span> <span class="pre">1)</span></tt> returns an unary callable object that adds 1
to its argument; in Scheme, <tt class="docutils literal"><span class="pre">(cut</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">&lt;&gt;)</span></tt> returns an unary function
that does the same. The Scheme version is better, since the
arguments of the resulting functions are immediately vas visible as
slots (i.e. the <tt class="docutils literal"><span class="pre">&lt;&gt;</span></tt> symbol). For instance</p>
<pre class="literal-block">
&gt; (define greetings (cut string-append "hello " &lt;&gt; " and " &lt;&gt;))
</pre>
<p>has two slots and therefore is a function of two arguments:</p>
<pre class="literal-block">
&gt; (greetings "Michele" "Mario")
"hello Michele and Mario"
</pre>
<p>It is also possible to define a variable number of arguments
by using the rest-slot symbol <tt class="docutils literal"><span class="pre">&lt;...&gt;</span></tt>:</p>
<pre class="literal-block">
&gt; (define greetings (cut string-append "hello " &lt;&gt; " and " &lt;...&gt;))
&gt; (display (greetings "Michele" "Mario" "\n"))
hello Michele and Mario
</pre>
<p>We can even use a slot for the function: for instance, the higher order
function <tt class="docutils literal"><span class="pre">apply</span></tt> could be implemented as <tt class="docutils literal"><span class="pre">(cut</span> <span class="pre">&lt;&gt;</span> <span class="pre">&lt;...&gt;)</span></tt>.</p>
<p>Moreover, there is a <tt class="docutils literal"><span class="pre">cute</span></tt> macro which acts exactly as <tt class="docutils literal"><span class="pre">cut</span></tt>, with a single
difference: the arguments in <tt class="docutils literal"><span class="pre">cute</span></tt> are evalued only once (the <tt class="docutils literal"><span class="pre">e</span></tt> stands
for <em>evalued</em>), whereas <tt class="docutils literal"><span class="pre">cut</span></tt> is not safe against multiple
evaluation. In particular, if you define</p>
<pre class="literal-block">
&gt; (define add-result (cute + (long-computation) &lt;&gt;))
</pre>
<p>then <tt class="docutils literal"><span class="pre">add-result</span></tt> performs the long computation only
once, at definition time, and not every time it is called.
For more details I refer you the <a class="reference" href="../_/http/srfi.schemers.org/srfi-26/srfi-26.html">SRFI-26</a> specification.</p>
</div>
<div class="section">
<h1><a id="fold-left-and-fold-right" name="fold-left-and-fold-right">fold-left and fold-right</a></h1>
<p>A couple of commonly used higher order functions in Scheme and
other functional languages are <tt class="docutils literal"><span class="pre">fold-left</span></tt> and <tt class="docutils literal"><span class="pre">fold-right</span></tt>.
They entered in the R6RS standard, but they are also available from <a class="reference" href="../_/http/srfi.schemers.org/srfi-1/srfi-1.html">SRFI-1</a>,
therefore you can leverage on them even if you are using an R5RS Scheme.</p>
<p><tt class="docutils literal"><span class="pre">fold-left</span></tt> and <tt class="docutils literal"><span class="pre">fold-right</span></tt> will remind Pythonistas of <tt class="docutils literal"><span class="pre">reduce</span></tt>,
which is also a folding function. However, it is well known that Guido
dislikes it and nowadays <tt class="docutils literal"><span class="pre">reduce</span></tt> is no more a builtin (in Python 3.0);
it is still available in the <tt class="docutils literal"><span class="pre">functools</span></tt> module, though.
For some reason (probabily the order of the arguments which I cannot
remember) I cannot use <tt class="docutils literal"><span class="pre">reduce</span></tt> in Python, whereas I have less
problems with <tt class="docutils literal"><span class="pre">fold-left</span></tt> e <tt class="docutils literal"><span class="pre">fold-right</span></tt> in Scheme and other
functional languages.</p>
<p><tt class="docutils literal"><span class="pre">fold-left</span></tt> and <tt class="docutils literal"><span class="pre">fold-right</span></tt> have a
nearly identical API: both allow to traverse a list by accumulating
values and by returning at the end the final accumulator.
For instance, if you want to sum the values of list, here is
an idiomatic solution in Scheme (another one is
<tt class="docutils literal"><span class="pre">(apply</span> <span class="pre">+</span> <span class="pre">numbers-list)</span></tt>:</p>
<pre class="literal-block">
&gt; (fold-left + 0 '(1 2 3)); sum all elements starting from 0; fold-right works too
6
</pre>
<p>In general, the function in <tt class="docutils literal"><span class="pre">fold-left</span></tt> takes <em>N + 1</em> arguments, where
<em>N</em> is the number of lists you are looping over (usually <em>N = 1</em>)
and the leftmost argument is the accumulator. The same is true for
<tt class="docutils literal"><span class="pre">fold-right</span></tt>, but then the rightmost argument is the accumulator.</p>
<p>Notice that <tt class="docutils literal"><span class="pre">fold-left</span></tt> is quite different from <tt class="docutils literal"><span class="pre">fold-right</span></tt>, since they
work in opposite order:</p>
<pre class="literal-block">
&gt; (fold-left (lambda (acc el) (cons el acc)) '() '(1 2 3))
(3 2 1)

&gt; (fold-right (lambda (el acc) (cons el acc)) '() '(1 2 3))
(1 2 3)
</pre>
<p>In the first case <tt class="docutils literal"><span class="pre">fold-left</span></tt> loops from left to right
(the element 1 is the first to be consed, the element 2 is the second
to be consed, and the element 3 is the last to be consed, so that
the final result is <tt class="docutils literal"><span class="pre">(cons</span> <span class="pre">3</span> <span class="pre">(cons</span> <span class="pre">2</span> <span class="pre">(cons</span> <span class="pre">1</span> <span class="pre">'())))</span></tt> i.e. <tt class="docutils literal"><span class="pre">(3</span> <span class="pre">2</span> <span class="pre">1)</span></tt>)
whereas in the second case <tt class="docutils literal"><span class="pre">fold-right</span></tt> loops from right to left.</p>
<p>In order to give an example of use, here is how you could
define a flattening procedure by using <tt class="docutils literal"><span class="pre">fold-right</span></tt>:</p>
<pre class="literal-block">
(define (flatten lst)
  (fold-right
   (lambda (x a)
     (if (list? x) (append (flatten x) a) (cons x a))) '() lst))
</pre>
<p>You can check that it works with a few tests:</p>
<pre class="literal-block">
(test "flatten null"
      (flatten '())
      '())
(test "flatten plain"
      (flatten '(a b c))
      '(a b c))
(test "flatten nested"
      (flatten '((a b) (c (d e) f)))
      '(a b c d e f))
</pre>
<p>Here is another example, a function to remove duplicates from a list:</p>
<pre class="literal-block">
;; ex: (remove-dupl = '(1 2 3 1 5 2 4)) =&gt; (1 2 3 5 4)
(define (remove-dupl eq? lst)
  (reverse
   (fold-left
    (lambda (acc el)
      (if (exists (cut eq? &lt;&gt; el) acc); duplicate
          acc
          (cons el acc)))
    '() lst)))
</pre>
<p>Notice the use of <tt class="docutils literal"><span class="pre">cut</span></tt> to define an unary function <tt class="docutils literal"><span class="pre">(cut</span> <span class="pre">eq?</span> <span class="pre">&lt;&gt;</span> <span class="pre">el)</span></tt>
which checks if its argument is equal - according to the provided equality
function - to a given element <tt class="docutils literal"><span class="pre">el</span></tt>. <tt class="docutils literal"><span class="pre">exists</span></tt> is one of the
<a class="reference" href="../_/http/www.r6rs.org/final/html/r6rs-lib/r6rs-lib-Z-H-4.html#node_chap_3">list processing utilities</a> standardized by the R6RS document.
Here is a test:</p>
<pre class="literal-block">
(test "remove-dupl"
      (remove-dupl equal? '(1 #f 2 #f 3))
      '(1 #f 2 3))
</pre>
<p>Having first class functions in a language means much more than having
map, filter or fold. Perhaps in the future I will add another episode
about advanced usage of functions, such a <a class="reference" href="../_/http/shaurz.wordpress.com/2008/03/11/haskell-style-parser-combinators-in-scheme/index.html">parsing combinators</a> or <a class="reference" href="../_/http/www.call-with-current-continuation.org/eggs/3/fmt.html">formatting
combinators</a>; for the moment what I said here should be enough, and
the next episode will be devoted to another typical feature of functional
languages: <em>pattern matching</em>.</p>
</div>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=249198.html">2

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=249198&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Michele Simionato adds a new entry to <a href="../index.html$/blogger=micheles.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/micheles.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D249198&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F14&amp;bodytext=Everything+you+ever+wanted+to+know+about+currying%2C+partial+application%2C+higher+order+functions+and+related+topics.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D249198&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F14">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16"/>del.icio.us
  </a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D249198&amp;title=The+Adventures+of+a+Pythonista+in+Schemeland%2F14">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/micheleSimionato.jpg"/></td><td>Michele Simionato started his career as a Theoretical Physicist, working in Italy, France and the U.S. He turned to programming in 2003; since then he has been working professionally as a Python developer and now he lives in Milan, Italy. Michele is well known in the Python community for his posts in the newsgroup(s), his articles and his Open Source libraries and recipes. His interests include object oriented programming, functional programming, and in general programming metodologies that enable us to manage the complexity of modern software developement.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2009 Michele Simionato. All rights reserved.</div>
</p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
