
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>CEDSimply - Nil Pointer Safe Assignment</title>
<meta charset="utf-8"/>
<meta content="Andy Dent" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=andydent.html">Andy Dent's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=158795.html">Discuss</a> | 
<a href="mailto:?subject=CEDSimply - Nil Pointer Safe Assignment&amp;body= %0AArtima Weblogs %0ACEDSimply - Nil Pointer Safe Assignment %0Aby Andy Dent %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=158795">Email</a> | 
<a href="../viewpostP.html$/thread=158795.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=158340.html" title="BON Dynamic Diagrams in UML for SOA Description">Previous</a> | 
<a class="sl" href="thread=158261.html" title="English-centric Programming Languages vs DSLs">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">Thinking Upside Down</span><br>
<span class="ts">CEDSimply - Nil Pointer Safe Assignment</span><br/>
<span class="as">by Andy Dent</span><br/>
<span class="pd">May 3, 2006</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
Introducing the CEDSimply project and some thoughts on a clean way to assign
pointers using safe multiple dereferences of possibly nil pointers:  CurrentLogger = gRS.runner.UI.LogTo unless nil

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<p>I often see code like (slightly ugly contrived example):</p>
<pre class="literal-block">
if (gRS.runner!=0 &amp;&amp; gRS.runner.UI!=0 &amp;&amp; gRS.runner.UI.LogTo!=0)
  CurrentLogger = gRS.runner.UI.LogTo
</pre>
<p>or, taking advantage of the c treatment of nil pointers as false:</p>
<pre class="literal-block">
if (gRS.runner &amp;&amp; gRS.runner.UI &amp;&amp; gRS.runner.UI.LogTo)
  CurrentLogger = gRS.runner.UI.LogTo
</pre>
<p>In an abstract syntax form, this can be expressed as:</p>
<pre class="literal-block">
(if-no-pointers-nil (CurrentLogger = gRS.runner.UI.LogTo) )
</pre>
<p>This is the kind of assumption, like having zeroed memory by default, that could be built into a language. Indeed, it might be nice to only be allowed to assign a nil pointer explicitly:</p>
<pre class="literal-block">
CurrentLogger = gRS.runner.UI.LogTo
</pre>
<p>or:</p>
<pre class="literal-block">
CurrentLogger = Nil
</pre>
<p>However, I keep being really really uncomfortable when a language does things that are going to subvert the instincts of a good c++ or Java programmer.</p>
<p>I find myself rather liking the simple form:</p>
<pre class="literal-block">
CurrentLogger = gRS.runner.UI.LogTo unless nil
</pre>
<ol class="arabic simple">
<li>it retains the original assignment statement in its normal location, read first.</li>
<li>the added nil protection is expressed succintly so would not be too noisy if repeated often.</li>
</ol>
<p>I miss the Object Pascal <em>with</em> statement, dreadfully so when I first moved to C++.</p>
<p>Trying to write a nil-safe <em>with</em> leads to:</p>
<pre class="literal-block">
with gRS.runner.UI unless nil:
  CurrentLogger = LogTo
</pre>
<p>Which doesn't really work for me:</p>
<ol class="arabic simple">
<li>the <em>with</em> statement no longer ends with the expression being dereferenced.</li>
<li>it doesn't say the same thing, we don't have a check of LogTo being nil, although sometimes we might not care.</li>
</ol>
<p>I'm not sure there's a readable alternative, maybe some of these meet your fancy:</p>
<pre class="literal-block">
with unless nil gRS.runner.UI:
  CurrentLogger = LogTo


with nil-safe gRS.runner.UI:
  CurrentLogger = LogTo


with guaranteed gRS.runner.UI:
  CurrentLogger = LogTo


safely with gRS.runner.UI:
  CurrentLogger = LogTo
</pre>
<div class="section" id="safer-code-through-clarity">
<h1><a name="safer-code-through-clarity">Safer Code Through Clarity</a></h1>
<p>I will probably blog again on this topic because it's dear to my heart and deserves more detail.</p>
<p><strong>People avoid errors of tired misinterpretation when code is easy to read.</strong></p>
<p>As you can see from the above examples, this means trying things in nit-picking detail.</p>
<div class="section" id="of-cedsimply-and-overweening-ambition">
<h2><a name="of-cedsimply-and-overweening-ambition">Of CEDSimply and Overweening Ambition</a></h2>
<p>I came to <a class="reference" href="../_/http/www.artima.com/weblogs/index.html$/blogger=cdiggins.html">Christopher Diggins' blog</a> and <a class="reference" href="../_/http/www.heron-language.com/index.html">Heron project</a> because for a few years I've been dissatisfied with existing programming languages and how well they allow me and many others to communicate to a computer and other programmers.</p>
<p>CEDSimply is currently a theoretical project in establishing a clear vision for a language, it may end up as:</p>
<ul class="simple">
<li>a set of idioms for using an existing programming language,</li>
<li>a DSL (Domain-Specific Language) or</li>
<li>as an interpreter and c++ Code Generator.</li>
</ul>
<p>I have realised it might be a <em>tiny bit ambitious</em> to aim at developing the entire language and environment alone so it is going to have to be an open source project. Maybe I'll at least establish a BDFL-like reputation, rather than getting rich :-)</p>
<p>I've spent a lot of time in the Macintosh world working in the code generation space: writing code generators that target c++ frameworks such as Think Class Library (for Prototyper) and enhancing AppMaker from Bowers Development.</p>
<p>From publishing a Windows code generator and PowerPlant framework portability kit for AppMaker, I've now moved on to acquiring the product (Spec Bowers has retired to run cabins).</p>
<p>AppMaker has a JSP-like template environment for code generation, using its own OO language. This, Python and years of trying to write highly-usable C++ API's (OOFILE) were the seeds of my thinking in CEDSimply, watered with dabblings in Forth and Scheme.</p>
</div>
</div>
<div class="section" id="awful-puns">
<h1><a name="awful-puns">Awful Puns</a></h1>
<p>CEDSimply is pronounced "said simply"</p>
<p>yes it's a kind of pun on Smalltalk</p>
<p>it's also a pun/jibe at another famous old language - you can't say it clearly with a lisp.</p>
<p>CED started out as an acronym for Connecting Events and Data, then it became Contexts, Events and Data</p>
<p>or maybe it now means many other things, some of which start with Community.</p>
<p>Anyway, <strong>I</strong> think it's a great pun!</p>
</div>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=158795.html">11

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=158795&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Andy Dent adds a new entry to <a href="../index.html$/blogger=andydent.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/andydent.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D158795&amp;title=CEDSimply+-+Nil+Pointer+Safe+Assignment&amp;bodytext=Introducing+the+CEDSimply+project+and+some+thoughts+on+a+clean+way+to+assign%0D%0Apointers+using+safe+multiple+dereferences+of+possibly+nil+pointers%3A++CurrentLogger+%3D+gRS.runner.UI.LogTo+unless+nil&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D158795&amp;title=CEDSimply+-+Nil+Pointer+Safe+Assignment">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D158795&amp;title=CEDSimply+-+Nil+Pointer+Safe+Assignment">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/andyDent.jpg"/></td><td>Andy is a free-lance developer in C++, REALbasic, Python, AJAX and other XML technologies. He works out of Perth, Western Australia for a local and international clients on cross-platform projects with a focus on usability for naive and infrequent users.  Included in his range of interests are generative solutions, software usability and small-team software processes. He still bleeds six colors, even though Apple stopped, and uses migration projects from legacy Mac OS to justify the hardware collection.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2006 Andy Dent. All rights reserved.</div>
</p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
