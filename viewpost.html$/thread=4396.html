
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>Notes from PyCon DC</title>
<meta charset="utf-8"/>
<meta content="Guido van van Rossum" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#AACCFF" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=guido.html">Guido van van Rossum's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=4396.html">Discuss</a> | 
<a href="mailto:?subject=Notes from PyCon DC&amp;body= %0AArtima Weblogs %0ANotes from PyCon DC %0Aby Guido van van Rossum %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=4396">Email</a> | 
<a href="../viewpostP.html$/thread=4396.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
Previous | 
<a class="sl" href="thread=4550.html" title="News from Python UK">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">All Things Pythonic</span><br>
<span class="ts">Notes from PyCon DC</span><br/>
<span class="as">by Guido van van Rossum</span><br/>
<span class="pd">April 9, 2003</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
Python's BDFL returns from the Python community conference
in Washington, DC with a head full of ideas and plans,
though not necessarily time to work on them yet.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<p>The Python conference is a vague memory already: right afterwards I
went to Oxford, England to attend a C/C++ conference run by the
British Association for C and C++ Users, which since last year has
sprouted a Python track.  Notes from that (equally exciting) event
will be a separate blog entry.

<p>PyCon DC 2003 (<a href="../_/http/www.python.org/pycon/index.html">http://www.python.org/pycon/</a>)
was the first US-based Python community conference in a long time.
With about 240 people registered I'd call it a smashing success; I
think those 240 attendees would agree.

<h2>Pre-conference Sprints</h2>
<p>Before the conference proper, we had a two-day coding sprint.
What's a coding sprint?  It's an event loosely inspired by extreme
programming, where a number of developers get together for a few days
of intense pair programming on a common project.  The first time I
heard of sprints was from Zope Corporation's Jim Fulton, who's been
using sprints successfully for the Zope 3 project; maybe he invented
the word.  Coding sprint certainly sounds better than coding marathon!

<p>On this occasion, there were at least three separate groups
sprinting in the same space (a classroom at George Washington
University which we were renting for the conference): Jim Fulton was
leading a Zope 3 sprint, there were a number of Twisted programmers
sprinting on Twisted projects, and in the back of the room we were
having a core Python sprint.

<p>The Python sprint quickly separated out in three groups of two to
three coders each: one group, lead by Jeremy Hylton, worked on the new
bytecode compiler which is being developed in a CVS branch; I was
leading the two other groups, which focused on Python speedups.
(There were many other ideas for tasks to sprint on, but not enough
time.)

<p>The first speedup plan, proposed by Ka-Ping Yee and implemented by
him and Aahz (that's really his whole name!), was a scheme to cache
the lookup of object attributes.  Python has extremely dynamic rules
for looking attributes: an instance attribute is first searched in the
instance dictionary, for instance variables, then in the class, for
methods and class variables, and finally in the successive base
classes, for inherited methods and class variables.  In other
languages, this lookup is usually done at compile time, but Python
does it at run-time, using a very efficient dictionary (hash table)
implementation.  Nevertheless, finding a method defined in the third
base class costs three failing lookups and one successful one.  We've
got to be able to to better, and this is a very common operation in
Python, so a speedup here might cause measurable speedup for all
Python programs.

<p>Ping's plan was to cache the dictionary where the lookup was
successful, thereby reducing the number of lookups to exactly two: one
in the cache, and another one in the directory indicated by the cache.
This seems an obvious optimization, but wasn't done earlier because
there are situations where the cache must be invalidated because one
of the base classes is modified.  Part of the project was to do the
invalidation right, and this could only be done with new
infrastructure added in Python 2.2.

<p>We implemented the whole scheme successfully, but in the end ran
into a snag: there were some common cases where the old scheme did
only one lookup, and there the new scheme was <i>slower</i> than the
old scheme!  We tried various refinements, but in the end we didn't
shave off enough to call it an overall win.  The code is checked in on
a CVS branch, though, and I'm sure we'll be getting back to it later.

<p>The other speedup team, consisting of Thomas Wouters and Brett
Cannon, was tackling the issue of speeding up method calls.  When
Python encounters an expression of the form x.meth(args), the bytecode
compiler first spits out code to construct temporary object
representing the "bound method" x.meth, after which it produces code
to load the argument list and call the bound method.  These are very
powerful semantics: a bound method can also be stored in a variable or
data structure, and can be used as a callback.  Other languages call
this "closures".  Python unifies closures, plain functions, and a few
other things, including class constructors, as "callables".  But
method calls are very common, and the overhead of creating the bound
method object which is thrown away immediately after the call is quite
measurable.

<p>So Thomas and Brett set out to introduce a new opcode which
implements the method call operation without creating the intermediate
bound method object.  There were numerous challenges on the way to
success, such as how to recognize this exact situation in the parser,
and how to implement an opcode taking three arguments when the
bytecode interpreter only supports opcodes with zero or one argument.

<p>But the real challenge was how to quickly decide at run-time
whether this was in fact a method call or not: syntactically,
instance.method(args) looks the same as module.function(args), and the
bytecode compiler doesn't know the type of x in x.attr(args), so it
will generate the new opcode for all expressions of this form,
regardless of whether x is a class instance.  Therefore, the opcode
has to deal correctly with method calls as well as with all other
kinds of calls.  Fortunately, the slight overhead of the required
generality is offset by the need to decode only one opcode instead of
two, and in the end we measured a decent speedup (in the order of 5%
for a certain benchmark, if I recall correctly).

<p>Despite this clear success, we didn't check the code in yet.  There
are really two cases that need to be sped up: classic classes and
new-style classes (the new class implementation introduced in Python
2.2, which will coexist with the original class implementation until
Python 3.0 is released).  Thomas and Breatt only had time to implement
their code for classic classes.  The code was parked on the
SourceForge patch manager until someone has time to complete it.

<h2>The Conference Proper</h2>
<p>Since my sprint diary ended up much longer than planned, I'll have
to write down more extensive conference notes later.  For now, some
highlights:

<p>Paul Graham's keynote on the "100-year language" was entertaining,
although I wished he'd taken the time to say a bit more about Python,
like last year's keynote speaker (Andrew Koenig of C++ fame, who's
become quite the Python evangelist).  It's been reviewed already in <a href="../_/http/use.perl.org/~ziggy/journal/11248/index.html">Ziggy's blog</a>.
Ziggy is a Perl developer, but (a) he's got an open mind, and (b) he's
an experienced conference organizer who helped us find this excellent
venue.

<p>An excellent idea was "open space", suggested and organized by Bob
Payne.  This is not quite the same as BOFs, although it is somewhat
similar.  The venue really helped, by accidentally setting up the
grand ballroom with circular dinner tables for the lunch arrangement.
Many smaller groups could have discussions or small presentations in
parallel that way.

<p>The <a href="../_/http/www.python.org/psf/index.html">Python Software
Foundation</a> (PSF, also financially responsible for the conference)
had its annual member meeting.  This was a great success; more than
half of all members were present in person, and half of the others had
sent in their proxy form for the various votes.  There was lively
discussion, and after the meeting we all went out for dinner.

<p>Looking at the schedule, I realize that I hardly went to any of the
scheduled presentations!  I spent almost all my time talking to
various people about their Python issues, having my <a href="../_/http/www.python.org/cgi-bin/moinmoin/PyConPhotos/index.html">picture
taken with attendees</a>, and in an audio interview with Bruce Eckel.
Well, so it goes.

<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=4396.html">12

comments</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=4396&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Guido van van Rossum adds a new entry to <a href="../index.html$/blogger=guido.html">his weblog</a>, subscribe to his <a href="../feeds/bloggers/guido.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D4396&amp;title=Notes+from+PyCon+DC&amp;bodytext=Python%27s+BDFL+returns+from+the+Python+community+conference%0D%0Ain+Washington%2C+DC+with+a+head+full+of+ideas+and+plans%2C%0D%0Athough+not+necessarily+time+to+work+on+them+yet.&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D4396&amp;title=Notes+from+PyCon+DC">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D4396&amp;title=Notes+from+PyCon+DC">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td><img align="right" src="../_/https/www.artima.com/images/guido.jpg"/></td><td>Guido van Rossum is the creator of Python, one of the major
programming languages on and off the web. The Python community refers to him as the BDFL (Benevolent Dictator For Life), a title straight
from a Monty Python skit. He moved from the Netherlands to the USA in
1995, where he met his wife. Until July 2003 they lived in the
northern Virginia suburbs of Washington, DC with their son Orlijn, who
was born in 2001. They then moved to Silicon Valley where Guido now works for Google
(spending 50% of his time on Python!).</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2003 Guido van van Rossum. All rights reserved.</div>
</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
