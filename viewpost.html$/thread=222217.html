
<!DOCTYPE html>

<html>
<head><meta content="noindex,nofollow" name="robots"/>
<title>Setting Up for Emulation</title>
<meta charset="utf-8"/>
<meta content="Nancy Nicolaisen" name="author">
<link href="../_/https/www.artima.com/artima.css" rel="stylesheet" type="text/css"/>
<link href="../_/https/www.artima.com/favicon.ico" rel="shortcut icon"/>
</meta></head>
<body><table cellspacing="0" width="100%">
<tr>
<td align="left" valign="bottom">
<a href="../_/https/www.artima.com/index.html"><img alt="The Artima Developer Community" border="0" height="43" src="../_/https/www.artima.com/images/a7.gif" width="550"/></a>
</td>
</tr></table>
<table bgcolor="#333333" width="100%">
<tr>
<td align="center">
<div class="ml">
<a class="hl" href="../_/https/www.artima.com/articles/index.html">Articles</a> |
<a class="hl" href="../_/https/www.artima.com/news/index.html">News</a> |
<a class="hl" href="../index.html">Weblogs</a> |
<a class="hl" href="../_/https/www.artima.com/shop/catalog/index.html">Books</a> |
<a class="hl" href="../_/https/www.artima.com/forums/index.html">Forums</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#CCCCCC" width="100%">
<tr>
<td align="center">
<div class="sc">
<a href="../index.html">Artima Weblogs</a> | 

<a href="../index.html$/blogger=nancyn.html">Nancy Nicolaisen's Weblog</a> | 

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=222217.html">Discuss</a> | 
<a href="mailto:?subject=Setting Up for Emulation&amp;body= %0AArtima Weblogs %0ASetting Up for Emulation %0Aby Nancy Nicolaisen %0A%0Ahttps://www.artima.com/weblogs/viewpost.jsp?thread=222217">Email</a> | 
<a href="../viewpostP.html$/thread=222217.html">Print</a> | 
<a href="../bloggers.html">Bloggers</a> | 
<a class="sl" href="thread=221570.html" title="Setting Up">Previous</a> | 
<a class="sl" href="thread=222298.html" title="Chat with Bruce Carney,Symbian Developer Programs Director">Next</a>
</div>
</td>
</tr>
</table>
<table bgcolor="#EEEEEE" width="100%">
<tr>
<td align="center">
<div class="sc">
<span style="color: #555555;">Sponsored Link</span> <span style="color: #888888;">•</span>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
   if (!document.phpAds_used) document.phpAds_used = ',';
   phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
   
   document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
   document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
   document.write ("&amp;what=zone:9&amp;target=_top");   document.write ("&amp;exclude=" + document.phpAds_used);
   if (document.referrer)
      document.write ("&amp;referer=" + escape(document.referrer));
   document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a799ecf6.html" target="_top"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:9&amp;n=a0587811.html"/></a></noscript>
</div>
</td>
</tr>
</table>
<br/>
<div class="vegies">
<div class="tc">
<span class="sts">Symbinia</span><br>
<span class="ts">Setting Up for Emulation</span><br/>
<span class="as">by Nancy Nicolaisen</span><br/>
<span class="pd">January 8, 2008</span><br/>
</br></div>
<blockquote>
<b>Summary</b><br/>
You can learn a lot from observing little kids: Avoid the people your dog dislikes; chasing the cat is more fun than catching it; and ALWAYS look between the bread before you bite the sandwich.  This last, in a nutshell, is why Symbian C++ developers need emulators.

</blockquote>
<hr align="left" width="90%"/>
<table align="right">
<tr>
<td>
<div class="adnotice">
Advertisement
</div>
<center>
<script language="JavaScript" src="../_/https/www.artima.com/zcr/adx.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
if (!document.phpAds_used) document.phpAds_used = ',';
phpAds_random = new String (Math.random()); phpAds_random = phpAds_random.substring(2,11);
document.write ("<" + "script language='JavaScript' type='text/javascript' src='");
document.write ("../_/https/www.artima.com/zcr/adjs.html$/n=.html" + phpAds_random);
document.write ("&amp;what=zone:2");
document.write ("&amp;exclude=" + document.phpAds_used);
if (document.referrer)
document.write ("&amp;referer=" + escape(document.referrer));
document.write ("'><" + "/script>");
//-->
</script><noscript><a href="../_/https/www.artima.com/zcr/adclick.html$/n=a74ab060.html" target="_blank"><img alt="" border="0" src="../_/https/www.artima.com/zcr/adview.html$/what=zone:2&amp;n=a74ab060.html"/></a></noscript>
</center>
</td>
</tr>
</table>
<p>
<b>Tooling Up for Emulated Debugging</b></p><p>

Device emulation is an important tool because it can save you so much time.  Using the S60 emulators, you can move through early phases of the design/code/test cycle for smartphone software almost as quickly as for desktop applications.  It is, of course, ultimately necessary to do on-device debugging and testing, but emulation lets you weed out a good many problems before you get there. To a large extent, emulators are faithful representations of devices they proxy.  They remove physical limitations and the potential for blocking introduced by debugging over the wire, executing emulated apps up to several orders of magnitude faster. It only makes sense to get as close as possible to the final product before you begin on-device debugging.  </p><p>

In this outing, we get our emulation mojo working, so to speak:  We’ll use the command prompt window to ensure we have the correct Symbian SDKs installed.  Next we’ll generate a basic Carbide C++ HelloWorld application so that we’ll have something to run on the emulator.  We launch the app directly to emulation from the IDE and check configuration properties in a single step. In addition, we’ll try a standalone launch of the emulator from the command line.  </p><p>
<b>Checking For the Correct SDK Versions</b></p><p>

First, we verify that we have the correct Symbian S60 SDKs installed and configured. ( Check the previous post for a walk through if you haven’t already got them in place. )</p><p>

•	Open the command prompt </p><p>

•	Type: <b>devices</b></p><p>

This command displays installed Symbian SDKs. For my system it reports:</p><p>
<b>S60_3rd_FP1:com.nokia.S60</b></p><p>
S60_3rd_FP1_2:com.nokia.S60 - default</p><p>

Notice two things here.  First, the <b>S60_3rd_FP1_2.nokia.S60</b> is the default SDK.  To change the default SDK using the command prompt window, use the <b>-setdefault</b> option of the <b>devices</b> command as shown below. </p><p>
<b>C:\   devices -setdefault @S60_3rd_FP1:com.nokia.S60</b></p><p>

And second, notice that I have one more SDK than described in the setup steps in the last blog.  For both of these two SDKs, there are stable Carbide.C++ emulators.  Either of them will serve you for testing and exploring upcoming code examples.  It is absolutely essential however, that the emulator and the compiled code match each other’s SDK version.  To verify this, you can check project properties, run configurations or debug configurations, all of which are accessed by right clicking on the top folder in the project pane of the IDE.   </p><p>
<b>Creating  a Hello World Project to Test The Emulator</b></p><p>

We need a simple application we can use to test the emulator installation and function.  Wake up Carbide.c++ and follow these steps to generate a HelloWorld test app:</p><p>

•	From the main menu bar, select <b>File.New</b></p><p>

•	Choose <b>Project</b></p><p>

•	From the list of project types, choose <b>Symbian OS C++ Project</b></p><p>

•	From that list, select <b>S60  3rd Edition GUI Application</b>. Note the checkbox labeled “Filter Templates based on available SDKs”. Keep this checked.</p><p>

•	Select the build target that corresponds to the emulator you have installed and designated as default.</p><p>
<b>Launching HelloWorld in the Emulator</b></p><p>

From the Carbide Project Window, verify the emulator target by right clicking the project file and choosing <b>Run As</b>, and then choosing <b>Run </b>from the floating menu this summons. </p><p>
This displays the <b>Create, Manage and Run Configurations</b> dialog.  If everything is on track, here you’ll see the project name and two paths – one for the executable and one for the emulator.  These paths should be identical up to the terminal elements.  On my system, they look like this:</p><p>
<i>Project:
HelloWorld</i></p><p>

Executable:
C:\Symbian\9.2\S60_3rd_FP1_2\Epoc32\release\WINSCW\UDEB\HelloWorld_0xE8414F81.exe</p><p>

Emulator:
C:\Symbian\9.2\S60_3rd_FP1_2\Epoc32\release\WINSCW\UDEB\epoc.exe</p><p>

If the path strings differ at all before the final backslash, you have a mismatch between the emulator and the application. You can fix that by changing the emulation default or recompiling to target the current default emulator.</p><p>

If you click the <b>Run</b> button at the bottom of the dialog, you launch the app in the emulator.  This will give you time for around a dozen deep breaths, a quarter of a cup of coffee or a quick check of your email.  </p><p>

At this point, I typically receive an emulator status message which reads ”Application closed: ncnlist KERN-EXEC 3”.  On the left side of the button bar you’ll see a control labeled “OK”.  Click on the button below to clear the message and display the emulator home screen.</p><p>

In the column on the left side of the emulator skin, click the third option button (below the camera button and above the scroll keys).  This displays the menu screen.  Navigate to the “Installed” icon, select it and you’ll see HelloWorld, along with any other apps that have been compiled to the emulator target. Select and run HelloWorld. </p><p>

At the risk of being tedious, I’ll mention one thing which still snags me occasionally.  You must navigate the emulator using its control keys. Once in a while I find myself furiously mousing over something on the emulator skin, clicking ferociously away, and seriously frustrated that nothing is happening.  So.  Pretend it’s a real phone.  Use the directional keys and selection button.  </p><p>
<b>Launching From the Command Line</b></p><p>

I have noticed that multiple app launches from the Carbide IDE sometimes cause the emulator to feel exactly like I do after shoveling way too much snow for three days running: “Device Won’t Start”.  There is an easy work-around for this problem (the emulator balking, not my unwillingness to keep digging ) because the emulator is a standalone tool.  You can launch it from a command prompt before or after you start Carbide.  For cleanest operation, I do it before I open the IDE. </p><p>

Change to the SDK directory which contains the emulator and support files, and type the command “epoc” with no arguments.  On my system it looks this way:</p><p>
<b>C: cd \Symbian\9.2\S60_3rd_FP1\Epoc32\winscw</b></p><p>

C: epoc</p><p>
</p><p>
<b>Looking Ahead: </b></p><p>
Next time, we’ll toss a couple of breakpoints into HelloWorld and see the emulator in action as a debugging tool.  </p>
<h1>Talk Back!</h1>
<p>
Have an opinion?


Readers have already posted

<a href="../_/https/www.artima.com/forums/flat.html$/forum=106&amp;thread=222217.html">1

comment</a>
about this weblog entry. Why not

<a href="../_/https/www.artima.com/forums/post.html$/forum=106&amp;thread=222217&amp;reply=true.html">add yours</a>?


<h1>RSS Feed</h1>
<p>
If you'd like to be notified whenever Nancy Nicolaisen adds a new entry to <a href="../index.html$/blogger=nancyn.html">her weblog</a>, subscribe to her <a href="../feeds/bloggers/nancyn.rss">RSS feed</a>.

<center>
<div class="sociallinks">
<a href="../_/http/digg.com/submit$/phase=2&amp;url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D222217&amp;title=Setting+Up+for+Emulation&amp;bodytext=You+can+learn+a+lot+from+observing+little+kids%3A+Avoid+the+people+your+dog+dislikes%3B+chasing+the+cat+is+more+fun+than+catching+it%3B+and+ALWAYS+look+between+the+bread+before+you+bite+the+sandwich.++This+last%2C+in+a+nutshell%2C+is+why+Symbian+C%2B%2B+developers+_&amp;topic=programming">
<img alt="Digg" border="0" height="14" hspace="8" src="../_/https/www.artima.com/images/digg.gif" width="16">Digg
  </img></a>
  |
  <a href="../_/http/del.icio.us/post$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D222217&amp;title=Setting+Up+for+Emulation">
<img alt="del.icio.us" border="0" height="16" hspace="8" src="../_/https/www.artima.com/images/delicious.gif" vspace="1" width="16">del.icio.us
  </img></a>
  |
  <a href="../_/http/programming.reddit.com/submit$/url=http%3A%2F%2Fwww.artima.com%2Fweblogs%2Fviewpost.jsp%3Fthread%3D222217&amp;title=Setting+Up+for+Emulation">
<img alt="Reddit" border="0" height="18" hspace="8" src="../_/https/www.artima.com/images/reddit.gif" width="18"/>Reddit
  </a>
</div>
</center>
<h1>About the Blogger</h1>
<p>
<table><tr valign="bottom"><td>Nancy Nicolaisen has authored three books on C++ programming topics; hundreds of articles for print magazines including Byte, Dr. Dobbs and PC Magazine; and was the chief contributor to codeguru.com's Windows CE Zone.  Former researcher and Computer Science Professor, she specializes in small device and embedded systems programming.</td></tr></table><p>
<div class="sp">This weblog entry is Copyright © 2008 Nancy Nicolaisen. All rights reserved.</div>
</p></p></p></p></div>

<hr width="100%">
<table align="center" width="50%">
<tr>
<td>
<div class="horizontaltextadbox">
<div class="adheadline">Sponsored Links</div>
<div id="sponsoredlinks">
</div>
</div>
</td>
</tr>
</table>
<hr width="100%"/>
<center>
<script type="text/javascript"><!--
google_ad_client = "pub-3911176865765226";
google_alternate_color = "ffffff";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "ffffff";
google_color_bg = "FFFFFF";
google_color_link = "003090";
google_color_text = "000000";
google_color_url = "666666";
//--></script>
<script src="../_/https/pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br>
<br/>
<!-- SiteSearch Google -->
<form action="../_/https/www.google.com/custom/index.html" method="get">
<table bgcolor="#ffffff" border="0">
<tr><td align="left" height="32" nowrap="nowrap" valign="top">
<a href="../_/https/www.google.com/index.html">
<img alt="Google" border="0" src="../_/https/www.google.com/logos/Logo_25wht.gif"/></a>
</td>
<td nowrap="nowrap">
<input name="domains" type="hidden" value="Artima.com"/>
<input maxlength="255" name="q" size="31" type="text" value=""/>
<input name="sa" type="submit" value="Search"/>
</td></tr>
<tr>
<td> </td>
<td nowrap="nowrap">
<font color="#000000" size="-1">
<input name="sitesearch" type="radio" value=""/> Web
<input checked="checked" name="sitesearch" type="radio" value="Artima.com"/>Artima.com
</font>  
<input name="client" type="hidden" value="pub-3911176865765226"/>
<input name="forid" type="hidden" value="1"/>
<input name="ie" type="hidden" value="ISO-8859-1"/>
<input name="oe" type="hidden" value="ISO-8859-1"/>
<input name="cof" type="hidden" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:FFFFFF;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:150;L:https://www.artima.com/images/artima150.gif;S:https://www.artima.com;FORID:1;"/>
<input name="hl" type="hidden" value="en"/>
</td></tr></table>
</form>
<!-- SiteSearch Google -->
</br></center>
<br/>
<div class="sp">
<div style="text-align: center;">
<a href="../_/https/www.artima.com/copyright.html">Copyright</a> © 1996-2019 Artima, Inc. All Rights Reserved. - <a href="../_/https/www.artima.com/privacy.html">Privacy Policy</a> - <a href="../_/https/www.artima.com/termsofuse.html">Terms of Use</a>
</div>
</div>
<br/>
<script language="JavaScript" type="text/javascript">
<!--
function initBannerVarForZone(zone) {
        initBannerVarForZoneWithScript(zone, 'adjs_modified');
}

function initBannerVarForZoneWithScript(zone, phpScript) {

        if (!document.phpAds_used) document.phpAds_used = ',';
        phpAds_random = new String (Math.random());
        phpAds_random = phpAds_random.substring(2,11);

        var nextScriptSrc = '../_/https/www.artima.com/zcr/index.html' + phpScript + '.php?n=' +
                phpAds_random  +
                '&amp;what=zone:' + zone + '&amp;target=_top&amp;block=1&amp;blockcampaign=1' +
                '&amp;exclude=' + document.phpAds_used;

        document.write("<script language='JavaScript' type='text/javascript' src='");
        document.write(nextScriptSrc);
        document.write("'><\/script>");

}

function replaceDiv(divID) {
        document.getElementById(divID).innerHTML = phpadsbanner;
}
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZone(3);
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('leftskyscraper');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
initBannerVarForZoneWithScript(4, 'textman');
-->
</script>
<script language="JavaScript" type="text/javascript">
<!--
replaceDiv('sponsoredlinks');
-->
</script>
</hr><a href="https://dafoster.net/projects/crystal-web-archiver/" id="cr-footer-banner" style="border-top: 2px #B40010 solid;background: #FFFAE1;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-variant: initial;font-weight: initial;text-transform: none;font-size: 14px;color: #6c757d;line-height: 2.0;cursor: pointer;display: flex;align-items: center;justify-content: center;gap: 4px;clear: both;" target="_blank"><img height="24" onerror="this.style['display'] = 'none';" src="../_/crystal/resources/appicon.png" width="24"/><span>This page was archived with Crystal</span><script>window.addEventListener('load', function() { const $1 = document.querySelector('#cr-footer-banner'); if (!$1) { return; } if (window !== window.top) { let $2 = false; if (window.name) { const $3 = window.parent.document.getElementsByName(window.name); if ($3.length === 1) { const $4 = $3[0]; if ($4.tagName === 'FRAME' && $4.parentElement.tagName === 'FRAMESET') { let $5 = $4; while (true) { if ($5.parentElement.tagName !== 'FRAMESET') { $2 = true; break; } if ($5.parentElement.attributes['rows'] !== undefined) { const $6 = $5.parentElement.children; if ($5 === $6[$6.length - 1]) { $5 = $5.parentElement; continue; } else { break; } } else if ($5.parentElement.attributes['cols'] !== undefined) { const $7 = Array.from($5.parentElement.children); const $8 = $7.indexOf($5); if ($8 === -1) { break; } const $9 = $5.parentElement.attributes['cols'].value.split(','); const $10 = $9.map((s) => parseInt(s.trim())); if ($9[$8].trim() === '*' || $10[$8] === Math.max.apply(null, $10)) { $5 = $5.parentElement; continue; } else { break; } } else { break; } } } } } if (!$2) { $1.style['display'] = 'none'; } } const $11 = $1.getBoundingClientRect(); const $12 = ($11.y < window.innerHeight - $11.height); if ($12) { $1.style['position'] = 'fixed'; $1.style['bottom'] = '0'; $1.style['left'] = '0'; $1.style['right'] = '0'; $1.style['z-index'] = '9999'; } const $13 = ( document.body.getBoundingClientRect().height < $11.height * 2 ); if ($13) { $1.style['display'] = 'none'; }
});</script></a></body>
</html>
